[TOC]

# â­ï¸å†™åœ¨å‰é¢çš„è¯â­ï¸

> ğŸ“’åšå®¢ä¸»é¡µï¼š [ç¨‹åºå‘˜å¥½å†°](https://blog.csdn.net/m0_67689541?spm=1011.2124.3001.5343)
> ğŸ‰æ¬¢è¿ ã€ç‚¹èµğŸ‘ å…³æ³¨ğŸ” æ”¶è—â­ï¸ ç•™è¨€ğŸ“ã€‘
> ğŸ“Œæœ¬æ–‡ç”± ç¨‹åºå‘˜å¥½å†° åŸåˆ›ï¼ŒCSDN é¦–å‘ï¼
> ğŸ“†å…¥ç«™æ—¶é—´ï¼š ğŸŒ´2022 å¹´ 07 æœˆ 13 æ—¥ğŸŒ´
> âœ‰ï¸ æ˜¯éä¸å…¥æ¾é£è€³ï¼ŒèŠ±è½èŠ±å¼€åªè¯»ä¹¦ã€‚
> ğŸ’­æ¨èä¹¦ç±ï¼šğŸ“šã€ŠJavaç¼–ç¨‹æ€æƒ³ã€‹ï¼ŒğŸ“šã€ŠJava æ ¸å¿ƒæŠ€æœ¯å·ã€‹
> ğŸ’¬å‚è€ƒåœ¨çº¿ç¼–ç¨‹ç½‘ç«™ï¼šğŸŒ[ç‰›å®¢ç½‘](https://www.nowcoder.com/)ğŸŒ[åŠ›æ‰£](https://leetcode.cn/)
> ğŸ­<strong><font color = orange> ä½œè€…æ°´å¹³å¾ˆæœ‰é™ï¼Œå¦‚æœå‘ç°é”™è¯¯ï¼Œä¸€å®šè¦åŠæ—¶å‘ŠçŸ¥ä½œè€…å“¦ï¼æ„Ÿè°¢æ„Ÿè°¢ï¼</font></strong>ğŸ­

--- ---



# ä¸€ã€çº¿ç¨‹ç®€ä»‹

>  å¤šä»»åŠ¡ï¼šæœ¬è´¨å¤§è„‘åœ¨åŒä¸€æ—¶é—´åªåšäº†åŒä¸€ä»¶äº‹æƒ…
>
>  å¤šçº¿ç¨‹ï¼šå…¬è·¯çš„å¤šæ¡è½¦é“

> æ™®é€šæ–¹æ³•ï¼šåªæœ‰ä¸»çº¿ç¨‹ä¸€æ¡æ‰§è¡Œè·¯å¾„
>
> å¤šçº¿ç¨‹ï¼šå¤šæ¡æ‰§è¡Œè·¯å¾„ï¼Œä¸»çº¿ç¨‹å’Œå­çº¿ç¨‹å¹¶è¡Œäº¤æ›¿æ‰§è¡Œ

## 1.1 è¿›ç¨‹

ä¸€ä¸ªåœ¨å†…å­˜ä¸­è¿è¡Œçš„åº”ç”¨ç¨‹åºã€‚æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ä¸€å—å†…å­˜ç©ºé—´ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œæ¯”å¦‚åœ¨Windowsç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªè¿è¡Œçš„xx.exeå°±æ˜¯ä¸€ä¸ªè¿›ç¨‹ã€‚

## 1.2 çº¿ç¨‹

è¿›ç¨‹ä¸­çš„ä¸€ä¸ªæ‰§è¡Œä»»åŠ¡ï¼ˆæ§åˆ¶å•å…ƒï¼‰ï¼Œè´Ÿè´£å½“å‰è¿›ç¨‹ä¸­ç¨‹åºçš„æ‰§è¡Œã€‚ä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥è¿è¡Œå¤šä¸ªçº¿ç¨‹ï¼Œå¤šä¸ªçº¿ç¨‹å¯å…±äº«æ•°æ®ã€‚

## 1.3 å¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹çš„åŒºåˆ«

å¤šè¿›ç¨‹ï¼šæ“ä½œç³»ç»Ÿä¸­åŒæ—¶è¿è¡Œçš„å¤šä¸ªç¨‹åº

å¤šçº¿ç¨‹ï¼šåœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­åŒæ—¶è¿è¡Œçš„å¤šä¸ªä»»åŠ¡

ä¸¾ä¸ªä¾‹å­ï¼Œå¤šçº¿ç¨‹ä¸‹è½½è½¯ä»¶ï¼Œå¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯é€šè¿‡ç¨‹åºè¿è¡Œçš„ç»“æœå‘ç°ï¼Œæ¯ä¸€æ¬¡ç»“æœéƒ½ä¸ä¸€è‡´ã€‚ å› ä¸ºå¤šçº¿ç¨‹å­˜åœ¨ä¸€ä¸ªç‰¹æ€§ï¼š**éšæœºæ€§**ã€‚é€ æˆçš„åŸå› ï¼š**CPUåœ¨ç¬é—´ä¸æ–­åˆ‡æ¢å»å¤„ç†å„ä¸ªçº¿ç¨‹è€Œå¯¼è‡´çš„ï¼Œå¯ä»¥ç†è§£æˆå¤šä¸ªçº¿ç¨‹åœ¨æŠ¢CPUèµ„æºã€‚**

å¤šçº¿ç¨‹å¹¶ä¸èƒ½æé«˜è¿è¡Œé€Ÿåº¦ï¼Œä½†å¯ä»¥æé«˜è¿è¡Œæ•ˆç‡ï¼Œè®©CPUçš„ä½¿ç”¨ç‡æ›´é«˜ã€‚ä½†æ˜¯å¦‚æœå¤šçº¿ç¨‹æœ‰å®‰å…¨é—®é¢˜æˆ–å‡ºç°é¢‘ç¹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æ—¶ï¼Œè¿ç®—é€Ÿåº¦å¯èƒ½åè€Œæ›´ä½ã€‚

![aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0pvdXJXb24vaW1hZ2UvbWFzdGVyL0phdmElRTUlQjklQjYlRTUlOEYlOTElRTclQkMlOTYlRTclQTglOEItJUU1JTlGJUJBJUU3JUExJTgwJUU3JTlGJUE1JUU4JUFGJTg2LyVFNSVBNCU5QSVFNyVCQSVCRiVFNyVBOCU4Qi5](https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0pvdXJXb24vaW1hZ2UvbWFzdGVyL0phdmElRTUlQjklQjYlRTUlOEYlOTElRTclQkMlOTYlRTclQTglOEItJUU1JTlGJUJBJUU3JUExJTgwJUU3JTlGJUE1JUU4JUFGJTg2LyVFNSVBNCU5QSVFNyVCQSVCRiVFNyVBOCU4Qi5.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10)

## 1.4 æ€»ç»“

-  çº¿ç¨‹æ˜¯ç‹¬ç«‹çš„æ‰§è¡Œè·¯å¾„
- mainæ˜¯ä¸»çº¿ç¨‹ï¼Œæ˜¯ç³»ç»Ÿçš„å…¥å£ï¼Œç”¨äºæ‰§è¡Œæ•´ä¸ªç¨‹åº
- æ²¡æœ‰è‡ªå·±åˆ›å»ºçº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œåå°ä¹Ÿä¼šæœ‰çº¿ç¨‹ï¼Œå¦‚ä¸»çº¿ç¨‹ã€GCçº¿ç¨‹ï¼ˆåƒåœ¾å›æ”¶ï¼‰
- åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­ï¼Œå¦‚æœå¼€è¾Ÿäº†å¤šä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹çš„è¿è¡Œç”±è°ƒåº¦å™¨å®‰æ’è°ƒåº¦ï¼Œè°ƒåº¦å™¨æ˜¯ä¸æ“ä½œç³»ç»Ÿç´§å¯†ç›¸å…³çš„ï¼Œå…ˆåé¡ºåºæ˜¯ä¸èƒ½äººä¸ºå¹²é¢„çš„
- å¯¹åŒä¸€ä»½èµ„æºæ“ä½œæ—¶ï¼Œä¼šå­˜åœ¨èµ„æºæŠ¢å¤ºçš„é—®é¢˜ï¼Œéœ€è¦åŠ å…¥å¹¶å‘æ§åˆ¶
- çº¿ç¨‹ä¼šå¸¦æ¥é¢å¤–çš„å¼€é”€ï¼Œå¦‚CPUè°ƒåº¦æ—¶é—´å’Œå¹¶å‘æ§åˆ¶å¼€é”€
- æ¯ä¸ªçº¿ç¨‹åœ¨è‡ªå·±çš„å·¥ä½œå†…å­˜äº¤äº’ï¼Œå†…å­˜æ§åˆ¶ä¸å½“ä¼šé€ æˆæ•°æ®ä¸ä¸€è‡´



# äºŒã€ç»§æ‰¿å®ç°

>  1ã€Thread class--------ç»§æ‰¿Threadç±»
>
>  2ã€Runnableæ¥å£-------å®ç°Runnableæ¥å£
>
>  3ã€Callableæ¥å£---------å®ç°Callableæ¥å£

## 2.1 ç»§æ‰¿Threadç±»

**ä¸å»ºè®®ä½¿ç”¨ï¼šOOPå•ç»§æ‰¿å±€é™æ€§**

```java
package space2.haobin;

/*
* åˆ›å»ºçº¿ç¨‹æ–¹å¼1:
*   è‡ªå®šä¹‰ä¸€ä¸ªç±»ç»§æ‰¿Threadç±»
*   é‡å†™run()æ–¹æ³•
*   è°ƒç”¨startå¼€å¯çº¿ç¨‹*/
public class ThreadTest extends Thread{

    @Override
    public void run() {
        //runæ–¹æ³•çº¿ç¨‹ä½“
        for (int i = 0; i < 20; i++) {
            System.out.println("æˆ‘åœ¨çœ‹ä»£ç ------"+i);
        }
    }

    public static void main(String[] args) {
        //mainä¸»çº¿ç¨‹

        //åˆ›å»ºä¸€ä¸ªçº¿ç¨‹å¯¹è±¡
        ThreadTest tt1 = new ThreadTest();

        //è°ƒç”¨start()æ–¹æ³•å¼€å¯çº¿ç¨‹
        tt1.start();//è‹¥æ­¤å¤„æ”¹ä¸ºè°ƒç”¨run()ï¼Œå³å˜æˆå•çº¿ç¨‹ï¼Œå…ˆèµ°run()ä¸­çš„â€œæˆ‘åœ¨çœ‹ä»£ç â€

        for (int i = 0; i < 200; i++) {
            System.out.println("æˆ‘åœ¨å­¦ä¹ å¤šçº¿ç¨‹------"+i);
        }
    }
}

```

**çº¿ç¨‹ä¸ä¸€å®šç«‹å³æ‰§è¡Œï¼ŒCPUå®‰æ’è°ƒåº¦**

**äº¤æ›¿æ‰§è¡Œ**

![image-20230619105859517](https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230619105859517.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10)

### ä¾‹å­ï¼šç½‘å›¾ä¸‹è½½

[Apache Commons IO ä¹Ÿå°±é‚£ä¹ˆå›äº‹å„¿å§ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/6996134628767563813)

[commons-ioçš„ä¸‹è½½å’Œä½¿ç”¨_å”¯æœ‰ä¸€ç‰‡ç‚™çƒ­çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/qq_40301026/article/details/88255597)

```java
package space2.haobin;


import org.apache.commons.io.FileUtils;

import java.io.File;
import java.io.IOException;
import java.net.URL;

/*
* è”ç³»Thread,å®ç°å¤šçº¿ç¨‹åŒæ­¥ä¸‹è½½å›¾ç‰‡
* */
public class ThreadTest2 extends Thread{

    private String url;//ç½‘ç»œå›¾ç‰‡åœ°å€
    private String name;//ä¿å­˜çš„æ–‡ä»¶å

    /*æ„é€ å™¨*/
    public ThreadTest2(String url,String name){
        this.url=url;
        this.name=name;
    }

    @Override
    public void run() {
        WebDownloader webDownloader = new WebDownloader();
        webDownloader.downloader(url,name);
        System.out.println("ä¸‹è½½çš„æ–‡ä»¶åä¸º:"+name);
    }

    /*ä¸»çº¿ç¨‹*/
    public static void main(String[] args) {
        ThreadTest2 t1 = new ThreadTest2("https://cdnjson.com/image/Tityr","dog.jpg");
        ThreadTest2 t2 = new ThreadTest2("https://cdnjson.com/image/TEsyr","dzq.jpg");
        ThreadTest2 t3 = new ThreadTest2("https://cdnjson.com/image/TEkdZ","boniu.jpg");

        t1.start();
        t2.start();
        t3.start();

    }
}

/*
* ä¸‹è½½å™¨*/
class WebDownloader{
    /*ä¸‹è½½æ–¹æ³•*/
    public void downloader(String url,String name){
        try {
            FileUtils.copyURLToFile(new URL(url),new File(name));
        } catch (IOException e) {
            e.printStackTrace();
            System.out.println("IOå¼‚å¸¸,downloaderæ–¹æ³•å‡ºç°é—®é¢˜");
        }
    }
}
```



![image-20230619120648701](https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230619120648701.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10)



## 2.2 å®ç°Runnableæ¥å£ (æ¨è)

**æ¨èä½¿ç”¨ï¼šé¿å…å•ç»§æ‰¿å±€é™æ€§ï¼Œçµæ´»æ–¹ä¾¿ï¼Œæ–¹ä¾¿åŒä¸€ä¸ªå¯¹è±¡è¢«å¤šä¸ªçº¿ç¨‹ä½¿ç”¨**

> 1. å®šä¹‰MyRunnableç±»å®ç°Runnableæ¥å£
> 2. å®ç°runæ–¹æ³•,ç¼–å†™çº¿ç¨‹æ‰§è¡Œä½“
> 3. åˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼Œè°ƒç”¨startæ–¹æ³•å¯åŠ¨çº¿ç¨‹

```java
package space2.haobin;

/*åˆ›å»ºçº¿ç¨‹æ–¹å¼2:
    å®ç°Runnableæ¥å£
    é‡å†™runæ–¹æ³•
    æ‰§è¡Œçº¿ç¨‹éœ€è¦ä¸¢å…¥Runnableæ¥å£å®ç°ç±»
    è°ƒç”¨startæ–¹æ³•
*/
public class ThreadTest3 implements Runnable{
    @Override
    public void run() {
        for (int i = 0; i < 20; i++) {
            System.out.println("æˆ‘åœ¨çœ‹ä»£ç ----"+i);
        }
    }

    public static void main(String[] args) {

        //åˆ›å»ºRunnableæ¥å£çš„å®ç°ç±»å¯¹è±¡
        ThreadTest3 tt3 = new ThreadTest3();

        //ä»£ç†:
        //      åˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼Œé€šè¿‡çº¿ç¨‹å¯¹è±¡æ¥å¼€å¯æˆ‘ä»¬çš„çº¿ç¨‹
        /*Thread t = new Thread(tt3);
        t.start();*/

        /*ç­‰ä»·äº*/
        new Thread(tt3).start();


        for (int i = 0; i < 100; i++) {
            System.out.println("æˆ‘åœ¨å­¦ä¹ å¤šçº¿ç¨‹----"+i);
        }


    }
}
```

### æ¡ˆä¾‹ï¼šç«è½¦ç«™ä¹°ç¥¨é—®é¢˜

å¤šä¸ªçº¿ç¨‹æ“ä½œåŒä¸€ä¸ªå¯¹è±¡



<img src="https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230619195216458.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10" alt="image-20230619195216458" style="zoom:50%;" />

```java
package space2.haobin;

/*
* æ¡ˆä¾‹: ä¹°ç«è½¦ç¥¨
* å¤šçº¿ç¨‹åŒæ—¶æ“ä½œåŒä¸€ä¸ªå¯¹è±¡
* */
public class ThreadTest04 implements Runnable{

    private int ticketNums = 10;

    @Override
    public void run() {
        while(true){
            if(ticketNums<=0){
                break;
            }
            try {
                Thread.sleep(200);
            } catch (InterruptedException e) {
                throw new RuntimeException(e);
            }
            System.out.println(Thread.currentThread().getName()+"--->æ‹¿åˆ°ç¬¬"+ticketNums--+"å¼ ç¥¨");
        }
    }


    public static void main(String[] args) {
        ThreadTest04 ticket = new ThreadTest04();

        new Thread(ticket,"å°æ˜").start();
        new Thread(ticket,"è€å¸ˆ").start();
        new Thread(ticket,"é»„ç‰›å…š").start();
    }
}
```

==å¹¶å‘é—®é¢˜==

å¤šçº¿ç¨‹æ“ä½œåŒä¸€ä¸ªèµ„æºçš„æƒ…å†µä¸‹ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼Œæ•°æ®ç´Šä¹±ã€‚

- å‡ºç°éæ³•æ•°å­—ï¼Œ0æˆ–-1
- å‡ºç°ç›¸åŒçš„æ•°å­—

### æ¡ˆä¾‹ï¼šé¾Ÿå…”èµ›è·‘

```java
package space2.haobin;


/*æ¨¡æ‹Ÿé¾Ÿå…”èµ›è·‘*/
public class Race implements Runnable{

    //èƒœåˆ©è€…
    private static String winner;

    @Override
    public void run() {
        for (int i = 0; i <= 100; i++) {

            /*æ¨¡æ‹Ÿå…”å­ä¼‘æ¯*/
            if(Thread.currentThread().getName().equals("å…”å­")&& i%10==0){
                try {
                    Thread.sleep(1);
                } catch (InterruptedException e) {
                    throw new RuntimeException(e);
                }
            }

            if(gameOver(i)){
                break;//è¯´æ˜å·²ç»å­˜åœ¨èƒœåˆ©è€…äº†ï¼Œå¯ä»¥ç»“æŸæ¯”èµ›äº†
            }
            System.out.println(Thread.currentThread().getName()+"---> è·‘äº†"+i+"æ­¥");
        }
    }

    /*
    * åˆ¤æ–­æ¯”èµ›æ˜¯å¦ç»“æŸ*/
    private boolean gameOver(int steps){
        if(winner!=null){
            //è¯´æ˜å·²ç»å­˜åœ¨èƒœåˆ©è€…äº†
            return true;
        }else{
            if(steps>=100){
                winner=Thread.currentThread().getName();
                System.out.println("Winner is "+winner);
                return true;
            }
        }
        return false;
    }

    public static void main(String[] args) {
        Race race = new Race();
        new Thread(race,"å…”å­").start();
        new Thread(race,"ä¹Œé¾Ÿ").start();
    }
}
```

## 2.3 å®ç°Callableæ¥å£ (äº†è§£å³å¯)

> 1. å®ç°Callableæ¥å£ï¼Œéœ€è¦è¿”å›å€¼ç±»å‹
> 2. é‡å†™callæ–¹æ³•ï¼Œéœ€è¦æŠ›å‡ºå¼‚å¸¸
> 3. åˆ›å»ºç›®æ ‡å¯¹è±¡
> 4. åˆ›å»ºæ‰§è¡ŒæœåŠ¡:ExecutorService ser = Executors.newFixedThreadPool(1);
> 5. æäº¤æ‰§è¡Œ:Future<Booleabn> result1 = ser.submit(t1);
> 6. è·å–ç»“æœï¼šboolean r1 = result1.get();
> 7. å…³é—­æœåŠ¡ï¼šser.shutdownNow();

### æ¡ˆä¾‹ï¼šä¸‹è½½ç½‘å›¾

```java
package space2.haobin02;

import org.apache.commons.io.FileUtils;

import java.io.File;
import java.io.IOException;
import java.net.URL;
import java.util.concurrent.*;

/*
 * å®ç°Callableæ¥å£,å®ç°å¤šçº¿ç¨‹åŒæ­¥ä¸‹è½½å›¾ç‰‡
 * */
public class TestCallable implements Callable <Boolean>{

    private String url;//ç½‘ç»œå›¾ç‰‡åœ°å€
    private String name;//ä¿å­˜çš„æ–‡ä»¶å

    /*æ„é€ å™¨*/
    public TestCallable(String url,String name){
        this.url=url;
        this.name=name;
    }

    @Override
    public Boolean call() {
        WebDownloader webDownloader = new WebDownloader();
        webDownloader.downloader(url,name);
        System.out.println("ä¸‹è½½çš„æ–‡ä»¶åä¸º:"+name);
        return true;
    }

    /*ä¸»çº¿ç¨‹*/
    public static void main(String[] args) throws ExecutionException, InterruptedException {
        TestCallable t1 = new TestCallable("https://cdnjson.com/image/Tityr","dog.jpg");
        TestCallable t2 = new TestCallable("https://cdnjson.com/image/TEsyr","dzq.jpg");
        TestCallable t3 = new TestCallable("https://cdnjson.com/image/TEkdZ","boniu.jpg");

        //åˆ›å»ºæ‰§è¡ŒæœåŠ¡
        ExecutorService ser = Executors.newFixedThreadPool(3);

        //æäº¤æ‰§è¡Œ
        Future<Boolean> r1 = ser.submit(t1);
        Future<Boolean> r2 = ser.submit(t2);
        Future<Boolean> r3 = ser.submit(t3);

        //è·å–è¿”å›å€¼
        boolean rs1 = r1.get();
        boolean rs2 = r2.get();
        boolean rs3 = r3.get();

        //å…³é—­æœåŠ¡
        ser.shutdown();
    }
}

/*
 * ä¸‹è½½å™¨*/
class WebDownloader{
    /*ä¸‹è½½æ–¹æ³•*/
    public void downloader(String url,String name){
        try {
            FileUtils.copyURLToFile(new URL(url),new File(name));
        } catch (IOException e) {
            e.printStackTrace();
            System.out.println("IOå¼‚å¸¸,downloaderæ–¹æ³•å‡ºç°é—®é¢˜");
        }
    }
}
```

### Runnableå’ŒCallableçš„åŒºåˆ«:

ã€€	Callableè§„å®šçš„æ–¹æ³•æ˜¯call(),Runnableè§„å®šçš„æ¥å£æ˜¯run();

ã€€ã€€Callableçš„ä»»åŠ¡æ‰§è¡Œåå¯è¿”å›å€¼,è€ŒRunnableçš„ä»»åŠ¡æ˜¯ä¸èƒ½æœ‰è¿”å›å€¼çš„;

ã€€ã€€callæ–¹æ³•å¯ä»¥æŠ›å‡ºå¼‚å¸¸,runæ–¹æ³•ä¸å¯ä»¥

ã€€ã€€è¿è¡ŒCallableä»»åŠ¡å¯ä»¥æ‹¿åˆ°ä¸€ä¸ªFutureå¯¹è±¡,è¡¨ç¤ºå¼‚æ­¥è®¡ç®—çš„ç»“æœ,å®ƒæä¾›äº†æ£€æŸ¥æ˜¯å¦è®¡ç®—å®Œæˆçš„æ–¹æ³•,ä»¥ç­‰å¾…è®¡ç®—çš„å®Œæˆ,å¹¶æ£€ç´¢è®¡ç®—çš„ç»“æœ,é€šè¿‡Futureå¯¹è±¡å¯ä»¥äº†è§£ä»»åŠ¡æ‰§è¡Œæƒ…å†µ,å¯ä»¥å–æ¶ˆä»»åŠ¡çš„æ‰§è¡Œ,è¿˜å¯ä»¥è·å–æ‰§è¡Œç»“æœ

# ä¸‰ã€çº¿ç¨‹çŸ¥è¯†æ‹“å±•

## 3.1 é™æ€ä»£ç†æ¨¡å¼

- çœŸå®å¯¹è±¡ï¼ˆç›®æ ‡å¯¹è±¡ï¼‰å’Œä»£ç†å¯¹è±¡éƒ½è¦å®ç°åŒä¸€ä¸ªæ¥å£
- ä»£ç†å¯¹è±¡è¦ä»£ç†çœŸå®è§’è‰²
- å¥½å¤„ï¼š
  - ä»£ç†å¯¹è±¡å¯ä»¥åšè®¸å¤šçœŸå®å¯¹è±¡åšä¸åˆ°çš„äº‹æƒ…
  - çœŸå®å¯¹è±¡å¯ä»¥ä¸“æ³¨åšè‡ªå·±çš„äº‹æƒ…

### æ¡ˆä¾‹ï¼šç»“å©š

```java
package space2.haobin03;

/*é™æ€ä»£ç†æ¨¡å¼*/
public class StaticProxy {

    public static void main(String[] args) {
        WeddingCompany weddingCompany = new WeddingCompany(new You());
        /*ç›¸å½“äºå©šåº†å…¬å¸ä»£ç†ä½ ç»“å©š*/
        weddingCompany.HappyMarry();
        
        /*
        	å¦‚æœä¸è¿›è¡Œä»£ç†,åˆ™è¿™æ ·å†™:
        	You you = new You();
        	you.HappyMarry();
        */
    }

}
//æŠ½è±¡ç±»ç»“å©š
interface  Marry{
    void HappyMarry();
}

/*
* æ¨¡æ‹ŸçœŸå®çš„ä½ ï¼Œç»“å©šç›®æ ‡
* */
class You implements Marry{

    @Override
    public void HappyMarry() {
        System.out.println("æˆ‘ç»“å©šå•¦ï¼ï¼ï¼");
    }
}

/*
* æ¨¡æ‹Ÿå©šåº†å…¬å¸ï¼Œä»£ç†ä½ ç»“å©š
* */
class WeddingCompany implements Marry{

    //ç»“å©šå¯¹è±¡
    private Marry target;

    public WeddingCompany(Marry target) {
        this.target = target;
    }


    @Override
    public void HappyMarry() {
        before();
        this.target.HappyMarry();
        after();
    }
    /*æ¨¡æ‹Ÿå©šå‰*/
    private void before(){
        System.out.println("å©šå‰å¸ƒç½®------");
    }
    /*æ¨¡æ‹Ÿå©šå*/
    private void after(){
        System.out.println("å©šåæ´æˆ¿------");
    }
}
```

<img src="https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230620152822043.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10" alt="image-20230620152822043" style="zoom:50%;" />



## 3.2 ç®€ä»‹Lamdaè¡¨è¾¾å¼

> å¥½å¤„ï¼š
>
> - é¿å…åŒ¿åå†…éƒ¨ç±»å®šä¹‰è¿‡å¤š
> - å®è´¨æ˜¯å‡½æ•°å¼ç¼–ç¨‹
> - å»æ‰å¤šä½™çš„ä»£ç ï¼Œç•™ä¸‹æ ¸å¿ƒä»£ç é€»è¾‘
> - ç®€åŒ–ä»£ç 

### **å‡½æ•°å¼æ¥å£**ï¼šåªåŒ…å«å”¯ä¸€ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£,æˆ‘ä»¬å¯ä»¥é€šè¿‡Lambdaè¡¨è¾¾å¼æ¥åˆ›å»ºè¯¥æ¥å£çš„å¯¹è±¡ã€‚

![image-20230620163027508](https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230620163027508.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10)

```java
public interface Runnable{
    public abstract void run();
}
```

### **äº”ç§æ”¹è¿›çš„å˜åŒ–**

> - ç›´æ¥å®ç°ç±»
> - é™æ€å†…éƒ¨ç±»
> - å±€éƒ¨å†…éƒ¨ç±»
> - åŒ¿åå†…éƒ¨ç±»
> - Lambdaè¡¨è¾¾å¼

```java
package space2.haobin03;

public class TestLambda {

    //2.é™æ€å†…éƒ¨ç±»
    static class Like2 implements ILike {
        @Override
        public void lambda() {
            System.out.println("æˆ‘å–œæ¬¢Lambda2.");
        }
    }

    public static void main(String[] args) {

        ILike like = new Like();
        like.lambda();

        like = new Like2();
        like.lambda();


        //3.å±€éƒ¨å†…éƒ¨ç±»
        class Like3 implements ILike{
            @Override
            public void lambda() {
                System.out.println("æˆ‘å–œæ¬¢Lambda3.");
            }
        }

        like = new Like3();
        like.lambda();

        //4.åŒ¿åå†…éƒ¨ç±»
        like = new ILike() {
            @Override
            public void lambda() {
                System.out.println("æˆ‘å–œæ¬¢Lambda4.");
            }
        };
        like.lambda();

        //5.lambdaç®€åŒ–
        like=()-> System.out.println("æˆ‘å–œæ¬¢Lambda5.");
        like.lambda();

    }
}

//å®šä¹‰ä¸€ä¸ªå‡½æ•°å¼æ¥å£
interface ILike {
    void lambda();
}

//1.å®ç°ç±»
class Like implements ILike {
    @Override
    public void lambda() {
        System.out.println("æˆ‘å–œæ¬¢Lambda.");
    }
}
```

### **Lambdaè¡¨è¾¾å¼ç®€åŒ–**

[å‚è€ƒæ–‡ç« ](https://blog.csdn.net/weixin_46116099/article/details/122898118)

# å››ã€çº¿ç¨‹çŠ¶æ€

>  

## 4.0 çº¿ç¨‹çš„çŠ¶æ€ç®€ä»‹

![image-20230620163646768](https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230620163646768.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10)



![image-20230620163704483](https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230620163704483.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10)



![image-20230620163357119](https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230620163357119.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10)

## 4.1 åœæ­¢çº¿ç¨‹

> 1. ä½¿ç”¨é€€å‡ºæ ‡å¿—ï¼Œä½¿çº¿ç¨‹æ­£å¸¸é€€å‡ºï¼Œä¹Ÿå°±æ˜¯å½“ run() æ–¹æ³•å®Œæˆåçº¿ç¨‹ä¸­æ­¢ã€‚
> 2. ä½¿ç”¨ stop() æ–¹æ³•å¼ºè¡Œç»ˆæ­¢çº¿ç¨‹ï¼Œä½†æ˜¯ä¸æ¨èä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•å·²è¢«å¼ƒç”¨ã€‚
> 3. ä½¿ç”¨ interrupt æ–¹æ³•ä¸­æ–­çº¿ç¨‹ã€‚

[å‚è€ƒæ–‡ç« ](https://www.cnblogs.com/liyutian/p/10196044.html)

![image-20230620164713607](https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230620164713607.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10)

## 4.2

## 4.3







# äº”ã€çº¿ç¨‹åŒæ­¥

>  

## 4.1

## 4.2

## 4.3



# å…­ã€çº¿ç¨‹é€šä¿¡é—®é¢˜

>  

## 5.1

## 5.2

## 5.3



# ä¸ƒã€é«˜çº§ä¸»é¢˜

> 





---

> <strong> ğŸš€<font color = orange>å…ˆçœ‹åèµï¼Œå…»æˆä¹ æƒ¯ï¼</font>ğŸš€</strong>
>
> <strong> ğŸš€<font color = red> å…ˆçœ‹åèµï¼Œå…»æˆä¹ æƒ¯ï¼</font>ğŸš€</strong>

> **ğŸˆè§‰å¾—æ–‡ç« å†™å¾—ä¸é”™çš„è€é“ä»¬ï¼Œç‚¹èµè¯„è®ºå…³æ³¨èµ°ä¸€æ³¢ï¼è°¢è°¢å•¦ï¼ğŸˆ**

---



