[TOC]

# â­ï¸å†™åœ¨å‰é¢çš„è¯â­ï¸
> ğŸ“’åšå®¢ä¸»é¡µï¼š [ç¨‹åºå‘˜å¥½å†°](https://blog.csdn.net/m0_67689541?spm=1011.2124.3001.5343)
> ğŸ‰æ¬¢è¿ ã€ç‚¹èµğŸ‘ å…³æ³¨ğŸ” æ”¶è—â­ï¸ ç•™è¨€ğŸ“ã€‘
> ğŸ“Œæœ¬æ–‡ç”± ç¨‹åºå‘˜å¥½å†° åŸåˆ›ï¼ŒCSDN é¦–å‘ï¼
> ğŸ“†å…¥ç«™æ—¶é—´ï¼š ğŸŒ´2022 å¹´ 07 æœˆ 13 æ—¥ğŸŒ´
> âœ‰ï¸ æ˜¯éä¸å…¥æ¾é£è€³ï¼ŒèŠ±è½èŠ±å¼€åªè¯»ä¹¦ã€‚
> ğŸ’­æ¨èä¹¦ç±ï¼šğŸ“šã€ŠJavaç¼–ç¨‹æ€æƒ³ã€‹ï¼ŒğŸ“šã€ŠJava æ ¸å¿ƒæŠ€æœ¯å·ã€‹
> ğŸ’¬å‚è€ƒåœ¨çº¿ç¼–ç¨‹ç½‘ç«™ï¼šğŸŒ[ç‰›å®¢ç½‘](https://www.nowcoder.com/)ğŸŒ[åŠ›æ‰£](https://leetcode.cn/)
> ğŸ­<strong><font color = orange> ä½œè€…æ°´å¹³å¾ˆæœ‰é™ï¼Œå¦‚æœå‘ç°é”™è¯¯ï¼Œä¸€å®šè¦åŠæ—¶å‘ŠçŸ¥ä½œè€…å“¦ï¼æ„Ÿè°¢æ„Ÿè°¢ï¼</font></strong>ğŸ­

--- ---

# ä¸‰å…ƒç»„é¡ºåºè¡¨çš„å®šä¹‰ä¸ä½¿ç”¨

> å­˜åœ¨ä¸€ç§çŸ©é˜µï¼Œå…¶éé›¶å…ƒè¾ƒé›¶å…ƒå°‘ï¼Œè€Œä¸”åˆ†å¸ƒæ²¡æœ‰ä¸€å®šçš„è§„å¾‹ï¼Œå°±æ˜¯==ç¨€ç–çŸ©é˜µ==ï¼›é€šå¸¸è®¤ä¸ºç¨€ç–çŸ©é˜µçš„ç¨€ç–å› å­å°äºæˆ–ç­‰äº0.05ã€‚

ç„¶è€Œï¼Œåœ¨å­˜å‚¨ç¨€ç–çŸ©é˜µæ—¶ï¼Œé€šå¸¸ä¸ä¼šæŒ‰ç…§æ™®é€šçš„æ–¹æ³•ï¼Œå°†é›¶å…ƒä¹Ÿè¿›è¡Œæ“ä½œï¼Œè€Œæ˜¯ä¼šé€šè¿‡ä¸‰å…ƒç»„å°†ç¨€ç–çŸ©é˜µè¿›è¡Œ==å‹ç¼©==ã€‚

==å…¶æ€æƒ³æ˜¯==ï¼šåªå­˜å…¥éé›¶å…ƒï¼Œé€šè¿‡è¡Œæ ‡å’Œåˆ—æ ‡è®°å½•éé›¶å…ƒçš„é€»è¾‘ä¸Šçš„äºŒç»´åæ ‡ï¼Œå…¶ä½™çš„å…ƒç´ å°±é»˜è®¤æ˜¯é›¶å…ƒã€‚



==ä¼ é€’äºŒç»´æ•°ç»„å‚æ•°ï¼ˆå›ºå®šç»´åº¦å’Œä¸å›ºå®šç»´åº¦ä¸¤ç§ï¼‰==

[å‚è€ƒè¿™ç¯‡æ–‡ç« ](https://blog.csdn.net/qq_43152052/article/details/103262811)





## 1ã€ä¸‰å…ƒç»„çš„å®šä¹‰

```c
#include <stdio.h>
#include <stdlib.h>

//ç¨€ç–çŸ©é˜µ:çŸ©é˜µä¸­çš„éé›¶å…ƒç´ æ¯”è¾ƒå°‘

//ä¸‰å…ƒç»„çš„ç»“ç‚¹å®šä¹‰
#define MAX_SIZE 100//è¡¨ä¸­éé›¶å…ƒç´ ä¸ªæ•°çš„æœ€å¤§å€¼

typedef int ElemType;

//ä¸‰å…ƒç»„ç»“ç‚¹å®šä¹‰
typedef struct Triple
{
    //ä¸‰å…ƒç»„ä¸­éé›¶å…ƒç´ çš„è¡Œä¸‹æ ‡å’Œåˆ—ä¸‹æ ‡
    int row;
    int col;
    ElemType e;//éé›¶å…ƒç´ å¯¹åº”çš„å€¼
}Triple;

//ä¸‰å…ƒç»„é¡ºåºè¡¨å®šä¹‰
typedef struct TSMatrix
{
    Triple data[MAX_SIZE+1];//å¤šä½™çš„ä¸€ä¸ªä½ç½®ç”¨äºå­˜æ”¾éé›¶å…ƒçš„ä¸ªæ•°
    int m_row,m_col,m_num;//çŸ©é˜µçš„è¡Œæ•°ã€åˆ—æ•°(å›ºå®š)å’Œéé›¶å…ƒçš„ä¸ªæ•°
}TSMatrix;
```



## 2ã€åˆ›å»ºç¨€ç–çŸ©é˜µ

```c
void creatSMatrix(ElemType *mat,int row,int col)
{
    int i,j;
    printf("è¯·æŒ‰è¡Œä¾æ¬¡è¾“å…¥è¿™ä¸ªçŸ©é˜µçš„å…ƒç´ :\n");
    for(i=1;i<=row;i++){
        for(j=1;j<=col;j++){
            scanf("%d",(mat+(i-1)*col+j));
        }
    }
}
```



## 3ã€æ‰“å°ç¨€ç–çŸ©é˜µ

```c
void printSMatrix(ElemType *mat,int row,int col)
{
    printf("åŸå§‹çŸ©é˜µä¸º:\n");
    int i,j;
    for(i=1;i<=row;i++){
        for(j=1;j<=col;j++){
            printf("%d\t",*(mat+(i-1)*col+j));
        }
        printf("\n");
    }
    printf("----------------------------------\n");
}
```



## 4ã€å°†ç¨€ç–çŸ©é˜µè½¬ä¸ºä¸‰å…ƒç»„çŸ©é˜µ

```c
//å¯¹ä¸‰å…ƒç»„è¿›è¡Œå¤„ç†
void initTriple(TSMatrix *M,ElemType *mat,int row,int col)
{
    M->m_row=0;
    M->m_num=0;
    M->m_col=3;//ä¸‰å…ƒç»„çŸ©é˜µé»˜è®¤ä¸ºä¸‰åˆ—
    int i,j;
    for(i=1;i<=row;i++){
        for(j=1;j<=col;j++){
            if(*(mat+(i-1)*col+j)!=0){
                //éé›¶å…ƒæ•°å¢åŠ ä¸€ä¸ª
                M->m_num++;
                M->m_row++;
                M->data[M->m_num].row=i;
                M->data[M->m_num].col=j;
                M->data[M->m_num].e=*(mat+(i-1)*col+j);
            }
        }
    }
    //ç¬¬0å·ä½ç½®å­˜æ”¾çš„æ˜¯åŸå§‹çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ï¼Œä»¥åŠéé›¶å…ƒçš„ä¸ªæ•°
    M->data[0].row=row;
    M->data[0].col=col;
    M->data[0].e=M->m_num;
}
```



## 5ã€æ‰“å°ä¸‰å…ƒç»„çŸ©é˜µ

```c
void printTriple(TSMatrix M)
{
    //æ‰“å°ä¸‰å…ƒç»„
    printf("ä¸‰å…ƒç»„çŸ©é˜µä¸º:\n");
    printf("è¡Œ\tåˆ—\tå€¼\n");
    int i;
    for(i=0;i<=M.m_row;i++){
        printf("%d\t%d\t%d\n",M.data[i].row,M.data[i].col,M.data[i].e);
    }
    printf("----------------------------------\n");
}
```



## 6ã€å°†ä¸‰å…ƒç»„çŸ©é˜µè½¬ä¸ºç¨€ç–çŸ©é˜µå¹¶æ‰“å°

```c
//å°†ä¸‰å…ƒç»„è¡¨è¿˜åŸä¸ºç¨€ç–çŸ©é˜µ
void printSMatrix2(TSMatrix M)
{
    int i,j;
    int row=M.data[0].row;
    int col=M.data[0].col;
    ElemType mat2[row][col];
    //å†™æ³•ä¸€ï¼ˆæ¯”è¾ƒå¸¸è§„ï¼‰
    //å†™æ³•äºŒ(æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ é»˜è®¤å€¼éƒ½ä¸º0)
    for(i=1;i<=M.m_num;i++){
        mat2[M.data[i].row][M.data[i].col]=M.data[i].e;
    }
    printf("åŸå§‹çŸ©é˜µä¸º:\n");
    for(i=1;i<=row;i++){
        for(j=1;j<=col;j++){
            printf("%d\t",mat2[i][j]);
        }
        printf("\n");
    }
    printf("----------------------------------\n");
}
```



## 7ã€è½¬ç½®ä¸‰å…ƒç»„çŸ©é˜µ

æˆ‘ä»¬çŸ¥é“ï¼Œ`ç¨€ç–çŸ©é˜µçš„è½¬ç½®éœ€è¦ç»å†ä»¥ä¸‹ 3 æ­¥`ï¼š

1. å°†çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°äº’æ¢ï¼›
2. å°†ä¸‰å…ƒç»„è¡¨ï¼ˆå­˜å‚¨çŸ©é˜µï¼‰ä¸­çš„ i åˆ—å’Œ j åˆ—äº’æ¢ï¼Œå®ç°çŸ©é˜µçš„è½¬ç½®ï¼›
3. ä»¥ j åˆ—ä¸ºåºï¼Œé‡æ–°æ’åˆ—ä¸‰å…ƒç»„è¡¨ä¸­å­˜å‚¨å„ä¸‰å…ƒç»„çš„å…ˆåé¡ºåºã€‚

- ç”±äºä¸‰å…ƒç»„è¡¨çš„ç¬¬0è¡Œå­˜æ”¾çš„æ˜¯ç¨€ç–çŸ©é˜µçš„ä¿¡æ¯ï¼Œæ‰€ä»¥åªè¿›è¡Œäº¤æ¢ï¼Œä¸è¿›è¡Œé‡æ’ã€‚

![image-20230423180003784](https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230423180003784.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10)

### æ–¹æ³•ä¸€ï¼ˆå…ˆæŒ‰åˆ—çš„æ¬¡åºæ’åºï¼Œå†äº¤æ¢è¡Œåˆ—ï¼‰

> å¯¹çŸ©é˜µMçš„colçš„å€¼è¿›è¡Œå†’æ³¡æ’åºï¼Œç”±äºMæ˜¯ä»¥è¡Œåºä¸ºä¸»åºæ’åˆ—çš„ï¼Œè¯´æ˜å¯¹colçš„ç›¸åŒå€¼æ¥è¯´ï¼Œå·²ç»æ˜¯æ’å¥½åºçš„äº†ï¼Œå› æ­¤ä¸å¿…å†å¯¹rowçš„å€¼è¿›è¡Œå†’æ³¡æ’åºã€‚
>
> æ“ä½œè¿‡ç¨‹ä¸­ï¼Œå°†colåˆ—ä¸­çš„æœ€å°å€¼æå‡ºï¼Œæ”¾åˆ°è½¬ç½®çŸ©é˜µTçš„ç¬¬ä¸€è¡Œï¼Œæ³¨æ„è¡Œåˆ—äº¤æ¢ï¼Œå€¼valueä¸æ”¹å˜ã€‚

![image-20230423180244705](https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230423180244705.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10)



==åŒæ ·çš„æ€è·¯==ï¼šå…ˆäº¤æ¢è¡Œåˆ—ï¼Œå†è¿›è¡Œè¡Œæ’åº

```c
//æ™®é€šè½¬ç½®æ€è·¯
//å‚æ•°ä¸­MæŒ‡åŸä¸‰å…ƒç»„è¡¨ï¼Œå€¼ä¼ é€’
//å‚æ•°ä¸­TæŒ‡è½¬ç½®åçš„ä¸‰å…ƒç»„è¡¨ï¼Œå¼•ç”¨ä¼ é€’
void TransposeSMatrix(TSMatrix M,TSMatrix *T)
{
    int T_index;////ç”¨äºéå†Tçš„é0è¡Œï¼Œå…±éå†t_numæ¬¡
    int M_col;//è®°å½•ä¸‰å…ƒç»„è¡¨Mçš„åˆ—çš„æ•°å€¼ï¼Œåº”è¯¥ä»1é€’å¢
    int M_index;//ç”¨äºéå†Mçš„é0è¡Œï¼Œå…±éå†m_numæ¬¡
    //å…ˆå°†Mçš„ä¸€äº›åˆå§‹ä¿¡æ¯èµ‹å€¼ä¸ºT
    T->m_row=M.m_row;
    T->m_col=M.m_col;
    T->m_num=M.m_num;
    T->data[0].row=M.data[0].col;
    T->data[0].col=M.data[0].row;
    T->data[0].e=M.data[0].e;//è¿™ç›¸å½“äºå¤„ç†å®Œäº†ä¸‰å…ƒç»„è¡¨çš„ç¬¬0è¡Œ
    if(T->m_num>0){
        T_index=1;
        for(M_col=1;M_col<=M.m_col;M_col++){
            //è¿™é‡Œçš„M_indexä»1å¼€å§‹ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬ä¸Šé¢å·²ç»å¤„ç†å¥½çš„ç¬¬0è¡Œ
            for(M_index=1;M_index<=M.m_num;M_index++){
                if(M.data[M_index].col==M_col){
                    T->data[T_index].row=M.data[M_index].col;
                    T->data[T_index].col=M.data[M_index].row;
                    T->data[T_index].e=M.data[M_index].e;
                    T_index++;
                }
            }
        }
    }
}
```



### æ–¹æ³•äºŒï¼ˆå¿«é€Ÿè½¬ç½®ç®—æ³•ï¼‰

[å¯ä»¥å‚è€ƒä¸€ä¸‹è¿™ä¸ªæ–‡ç« ](http://data.biancheng.net/view/188.html)

> ç¨€ç–çŸ©é˜µå¿«é€Ÿè½¬ç½®ç®—æ³•å’Œæ™®é€šç®—æ³•çš„åŒºåˆ«ä»…åœ¨äºç¬¬ 3 æ­¥ï¼Œå¿«é€Ÿè½¬ç½®èƒ½å¤Ÿåšåˆ°éå†ä¸€æ¬¡ä¸‰å…ƒç»„è¡¨å³å¯å®Œæˆç¬¬ 3 æ­¥çš„å·¥ä½œã€‚

> åˆæ­¥æ€è·¯ï¼š==ç»Ÿè®¡MçŸ©é˜µåˆ—ä¸­å°äºcolå€¼çš„ä¸ªæ•°==ï¼ŒåŠ ä¸Š1å°±æ˜¯è½¬ç½®åTçŸ©é˜µä¸­æ‰€å¯¹åº”çš„è¡Œæ•°ã€‚
>
> â€‹					è‹¥colå€¼å­˜åœ¨ç›¸åŒçš„ï¼Œåˆ™è¿›è¡Œç´¯åŠ ã€‚ 
>
> å¯ä»¥å‘ç°è¿™ç§æ€è·¯çš„æ—¶é—´å¤æ‚åº¦åŒæ ·æŒºé«˜çš„ï¼Œç”šè‡³å’Œæ–¹æ³•ä¸€çš„æ€è·¯ç±»ä¼¼ã€‚

`å®é™…ç®—æ³•:`

`æ³¨æ„`ï¼š

> è¿™é‡Œé€šè¿‡ä¸¤ä¸ªæ•°ç»„æ¥ç¼©çŸ­ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦
>
> - è®°å½•ç¨€ç–çŸ©é˜µæ¯ä¸€åˆ—éé›¶å…ƒç´ çš„ä¸ªæ•°a[col]ï¼Œç¬¬1åˆ—æœ‰1ä¸ªéé›¶å…ƒï¼Œç¬¬2åˆ—æœ‰2ä¸ªéé›¶å…ƒã€‚
>
> â€‹		a[1]=1;a[2]=2;
>
> - è®°å½•ç¨€ç–çŸ©é˜µä¸­`æ¯ä¸€åˆ—ç¬¬1ä¸ªéé›¶å…ƒç´ `åœ¨è½¬ç½®åçš„ä¸‰å…ƒè¡¨ä¸­çš„ä½ç½®b[col],ç”±è½¬ç½®çš„æ€§è´¨æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œè½¬ç½®ç›¸å½“äºå°†åŸå…ˆæŒ‰è¡Œå±•å¼€çš„å½¢å¼æŒ‰åˆ—å±•å¼€ï¼›æ•…ç¬¬1åˆ—çš„é¦–éé›¶å…ƒä¼šæ”¾åˆ°è½¬ç½®åçš„ä¸‰å…ƒè¡¨çš„ç¬¬1ä¸ªä½ç½®ä¸Šï¼ˆç¬¬0ä¸ªä½ç½®ä¸Šæœ‰å…¶å®ƒä¿¡æ¯ï¼‰ã€‚
>
> â€‹        b[1]=1ï¼›b[2]=2ã€‚

`b[col]=b[col-1]+a[col-2]`

è§£é‡Šä¸€ä¸‹ï¼šç”±äºæˆ‘ä»¬çš„ç¨€ç–çŸ©é˜µæ˜¯ä»ç¬¬0è¡Œç¬¬0åˆ—å¼€å§‹çš„ï¼Œæ‰€ä»¥è¿™é‡Œçš„a[col-2]æ˜¯å‡2ï¼Œè€Œä¸æ˜¯å‡1ã€‚

> åä¸€åˆ—é¦–ä¸ªé 0 å…ƒç´ å­˜æ”¾çš„ä½ç½®ç­‰äºå‰ä¸€åˆ—é¦–ä¸ªé 0 å…ƒç´ çš„å­˜æ”¾ä½ç½®åŠ ä¸Šè¯¥åˆ—é 0 å…ƒç´ çš„ä¸ªæ•°ã€‚

<img src="https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230423200002035.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10" alt="image-20230423200002035" style="zoom:50%;" />



```c
//ä¸‰å…ƒç»„è¡¨çš„å¿«é€Ÿè½¬ç½®
/*
æ€è·¯:
    æŒ‰åˆ—æŸ¥æ‰¾æ¯ä¸€åˆ—ä¸­çš„é¦–éé›¶å…ƒä»¥åŠéé›¶å…ƒçš„ä¸ªæ•°ï¼Œå¹¶ä½¿ç”¨ä¸¤ä¸ªæ•°ç»„å­˜å‚¨èµ·æ¥
    æœ‰cpot[n]=cpot[n-1]+num[n-1]
    å¹¶è§„å®šcpot[1]=1
    æ³¨æ„ï¼šè¿™é‡Œä¸è€ƒè™‘ç¨€ç–çŸ©é˜µæˆ–æ˜¯ä¸‰å…ƒç»„è¡¨çš„0è¡Œ0åˆ—
*/
void FastTransposeSMatrix(TSMatrix M,TSMatrix *T2)
{
    int T2_index;////ç”¨äºéå†Tçš„é0è¡Œï¼Œå…±éå†t_numæ¬¡
    int M_col;//è®°å½•ä¸‰å…ƒç»„è¡¨Mçš„åˆ—çš„æ•°å€¼ï¼Œåº”è¯¥ä»1é€’å¢
    int M_index;//ç”¨äºéå†Mçš„é0è¡Œï¼Œå…±éå†m_numæ¬¡

    int num[MAX_SIZE];//ç”¨äºè®°å½•Mä¸­æ¯ä¸€åˆ—çš„éé›¶å…ƒç´ 
    int cpot[MAX_SIZE];//ç”¨äºè®°å½•Mä¸­æ¯ä¸€åˆ—çš„é¦–éé›¶å…ƒç´ åº”è¯¥åœ¨Tä¸­çš„index(ä»1å¼€å§‹)

    //é¦–å…ˆï¼Œåˆ†åˆ«ä»è¡¨ç»“æ„å’Œéé›¶å…ƒä¸¤ä¸ªæ–¹é¢èµ‹å€¼T2
    T2->m_row=M.m_row;
    T2->m_col=M.m_col;
    T2->m_num=M.m_num;
    T2->data[0].row=M.data[0].col;
    T2->data[0].col=M.data[0].row;
    T2->data[0].e=M.data[0].e;

    if(T2->m_num>0){
        //å°†æ•°ç»„numä¸­çš„æ¯ä¸ªå…ƒç´ ç½®0ï¼Œé˜²æ­¢é»˜è®¤å€¼
        for(M_col=1;M_col<=M.m_col;M_col++){
            num[M_col]=0;
        }
        //éå†ç¨€ç–çŸ©é˜µæ¯ä¸€åˆ—ï¼Œç»Ÿè®¡éé›¶å…ƒçš„æ•°é‡
        for(M_index=1;M_index<=M.m_num;M_index++){
            num[M.data[M_index].col]++;
        }

        //ç”±äºè½¬ç½®åç›¸å½“äºæŒ‰åˆ—å±•å¼€
        //é»˜è®¤ï¼ˆç¨€ç–çŸ©é˜µä»ç¬¬1è¡Œç¬¬1åˆ—å¼€å§‹ï¼‰
        cpot[1]=1;

        for(M_col=2;M_col<=M.m_col;M_col++){
            cpot[M_col]=cpot[M_col-1]+num[M_col-1];
        }
        //éå†Mçš„æ¯ä¸€è¡Œ
        for(M_index=1;M_index<=M.m_num;M_index++){
            //å–æ¯ä¸€è¡Œçš„åˆ—ä¸‹æ ‡
            M_col=M.data[M_index].col;
            //å¸¦å…¥cpot[]æ•°ç»„ä¸­ï¼Œæ‰¾åˆ°åœ¨Tä¸­çš„ä¸‹æ ‡
            //cpotä¸­å­˜æœ‰æ‰€æœ‰éé›¶å…ƒçš„ä½ç½®ä¿¡æ¯
            T2_index=cpot[M_col];
            //äº’æ¢ä¿¡æ¯
            T2->data[T2_index].row=M.data[M_index].col;
            T2->data[T2_index].col=M.data[M_index].row;
            T2->data[T2_index].e=M.data[M_index].e;
            //è¿™ä¸ªå€¼æ˜¯æ ¹æ®åˆ—æ¥è‡ªå¢çš„
            //å³æ¯ä¸€åˆ—ä¸­é™¤äº†é¦–éé›¶å…ƒï¼Œè¿˜å‰©ä¸‹å‡ ä¸ªéé›¶å…ƒå°±åŠ å‡ æ¬¡
            cpot[M_col]++;
        }
    }
}
```



## ä¸»å‡½æ•°

```c
int main()
{
    printf("åˆå§‹åŒ–ç¨€ç–çŸ©é˜µ...\n");
    int row,col;
    printf("è¯·è¾“å…¥çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°(row,col):");
    scanf("%d,%d",&row,&col);
    printf("\n");
    ElemType mat[row][col];
    TSMatrix M;
    TSMatrix T;
    TSMatrix T2;

    //åˆ›å»ºç¨€ç–çŸ©é˜µ
    creatSMatrix(*mat,row,col);
    printf("----------------------------------\n");
    //æ‰“å°ç¨€ç–çŸ©é˜µ
    printSMatrix(*mat,row,col);
    //å°†ç¨€ç–çŸ©é˜µè½¬ä¸ºä¸‰å…ƒç»„
    initTriple(&M,*mat,row,col);
    //æ‰“å°ä¸‰å…ƒç»„
    printTriple(M);
    //å°†ä¸‰å…ƒç»„è¿˜åŸï¼Œå¹¶æ‰“å°
    printf("è¿˜åŸåçš„");

    printSMatrix2(M);

    //è½¬ç½®ä¸‰å…ƒç»„

    /*æ–¹æ³•ä¸€*/
    TransposeSMatrix(M,&T);
    printf("æ™®é€šè½¬ç½®åçš„");
    printTriple(T);
    /*æ–¹æ³•äºŒ*/
    FastTransposeSMatrix(M,&T2);
    printf("å¿«é€Ÿè½¬ç½®åçš„");
    printTriple(T2);
    printf("Hello world!\n");
    return 0;
}
```



# ç¨‹åºæºç 

#### è¿è¡Œæˆªå›¾

![image-20230425202934182](https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230425202934182.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10)

```c
#include <stdio.h>
#include <stdlib.h>

//ç¨€ç–çŸ©é˜µ:çŸ©é˜µä¸­çš„éé›¶å…ƒç´ æ¯”è¾ƒå°‘

//ä¸‰å…ƒç»„çš„ç»“ç‚¹å®šä¹‰
#define MAX_SIZE 100//è¡¨ä¸­éé›¶å…ƒç´ ä¸ªæ•°çš„æœ€å¤§å€¼

typedef int ElemType;

//ä¸‰å…ƒç»„ç»“ç‚¹å®šä¹‰
typedef struct Triple
{
    //ä¸‰å…ƒç»„ä¸­éé›¶å…ƒç´ çš„è¡Œä¸‹æ ‡å’Œåˆ—ä¸‹æ ‡
    int row;
    int col;
    ElemType e;//éé›¶å…ƒç´ å¯¹åº”çš„å€¼
}Triple;

//ä¸‰å…ƒç»„é¡ºåºè¡¨å®šä¹‰
typedef struct TSMatrix
{
    Triple data[MAX_SIZE+1];//å¤šä½™çš„ä¸€ä¸ªä½ç½®ç”¨äºå­˜æ”¾éé›¶å…ƒçš„ä¸ªæ•°
    int m_row,m_col,m_num;//çŸ©é˜µçš„è¡Œæ•°ã€åˆ—æ•°(å›ºå®š)å’Œéé›¶å…ƒçš„ä¸ªæ•°
}TSMatrix;

void creatSMatrix(ElemType *mat,int row,int col)
{
    int i,j;
    printf("è¯·æŒ‰è¡Œä¾æ¬¡è¾“å…¥è¿™ä¸ªçŸ©é˜µçš„å…ƒç´ :\n");
    for(i=1;i<=row;i++){
        for(j=1;j<=col;j++){
            scanf("%d",(mat+(i-1)*col+j));
        }
    }
}

void printSMatrix(ElemType *mat,int row,int col)
{
    printf("åŸå§‹çŸ©é˜µä¸º:\n");
    int i,j;
    for(i=1;i<=row;i++){
        for(j=1;j<=col;j++){
            printf("%d\t",*(mat+(i-1)*col+j));
        }
        printf("\n");
    }
    printf("----------------------------------\n");
}

//å¯¹ä¸‰å…ƒç»„è¿›è¡Œå¤„ç†
void initTriple(TSMatrix *M,ElemType *mat,int row,int col)
{
    M->m_row=0;
    M->m_num=0;
    M->m_col=3;//ä¸‰å…ƒç»„çŸ©é˜µé»˜è®¤ä¸ºä¸‰åˆ—
    int i,j;
    for(i=1;i<=row;i++){
        for(j=1;j<=col;j++){
            if(*(mat+(i-1)*col+j)!=0){
                //éé›¶å…ƒæ•°å¢åŠ ä¸€ä¸ª
                M->m_num++;
                M->m_row++;
                M->data[M->m_num].row=i;
                M->data[M->m_num].col=j;
                M->data[M->m_num].e=*(mat+(i-1)*col+j);
            }
        }
    }
    //ç¬¬0å·ä½ç½®å­˜æ”¾çš„æ˜¯åŸå§‹çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ï¼Œä»¥åŠéé›¶å…ƒçš„ä¸ªæ•°
    M->data[0].row=row;
    M->data[0].col=col;
    M->data[0].e=M->m_num;
}


void printTriple(TSMatrix M)
{
    //æ‰“å°ä¸‰å…ƒç»„
    printf("ä¸‰å…ƒç»„çŸ©é˜µä¸º:\n");
    printf("è¡Œ\tåˆ—\tå€¼\n");
    int i;
    for(i=0;i<=M.m_row;i++){
        printf("%d\t%d\t%d\n",M.data[i].row,M.data[i].col,M.data[i].e);
    }
    printf("----------------------------------\n");
}

//å°†ä¸‰å…ƒç»„è¡¨è¿˜åŸä¸ºç¨€ç–çŸ©é˜µ
void printSMatrix2(TSMatrix M)
{
    int i,j;
    int row=M.data[0].row;
    int col=M.data[0].col;
    ElemType mat2[row][col];
    //å†™æ³•ä¸€ï¼ˆæ¯”è¾ƒå¸¸è§„ï¼‰
    //å†™æ³•äºŒ(æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ é»˜è®¤å€¼éƒ½ä¸º0)
    for(i=1;i<=M.m_num;i++){
        mat2[M.data[i].row][M.data[i].col]=M.data[i].e;
    }
    printf("åŸå§‹çŸ©é˜µä¸º:\n");
    for(i=1;i<=row;i++){
        for(j=1;j<=col;j++){
            printf("%d\t",mat2[i][j]);
        }
        printf("\n");
    }
    printf("----------------------------------\n");
}

//æ™®é€šè½¬ç½®æ€è·¯
//å‚æ•°ä¸­MæŒ‡åŸä¸‰å…ƒç»„è¡¨ï¼Œå€¼ä¼ é€’
//å‚æ•°ä¸­TæŒ‡è½¬ç½®åçš„ä¸‰å…ƒç»„è¡¨ï¼Œå¼•ç”¨ä¼ é€’
void TransposeSMatrix(TSMatrix M,TSMatrix *T)
{
    int T_index;////ç”¨äºéå†Tçš„é0è¡Œï¼Œå…±éå†t_numæ¬¡
    int M_col;//è®°å½•ä¸‰å…ƒç»„è¡¨Mçš„åˆ—çš„æ•°å€¼ï¼Œåº”è¯¥ä»1é€’å¢
    int M_index;//ç”¨äºéå†Mçš„é0è¡Œï¼Œå…±éå†m_numæ¬¡
    //å…ˆå°†Mçš„ä¸€äº›åˆå§‹ä¿¡æ¯èµ‹å€¼ä¸ºT
    T->m_row=M.m_row;
    T->m_col=M.m_col;
    T->m_num=M.m_num;
    T->data[0].row=M.data[0].col;
    T->data[0].col=M.data[0].row;
    T->data[0].e=M.data[0].e;//è¿™ç›¸å½“äºå¤„ç†å®Œäº†ä¸‰å…ƒç»„è¡¨çš„ç¬¬0è¡Œ
    if(T->m_num>0){
        T_index=1;
        for(M_col=1;M_col<=M.m_col;M_col++){
            //è¿™é‡Œçš„M_indexä»1å¼€å§‹ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬ä¸Šé¢å·²ç»å¤„ç†å¥½çš„ç¬¬0è¡Œ
            for(M_index=1;M_index<=M.m_num;M_index++){
                if(M.data[M_index].col==M_col){
                    T->data[T_index].row=M.data[M_index].col;
                    T->data[T_index].col=M.data[M_index].row;
                    T->data[T_index].e=M.data[M_index].e;
                    T_index++;
                }
            }
        }
    }
}

//ä¸‰å…ƒç»„è¡¨çš„å¿«é€Ÿè½¬ç½®
/*
æ€è·¯:
    æŒ‰åˆ—æŸ¥æ‰¾æ¯ä¸€åˆ—ä¸­çš„é¦–éé›¶å…ƒä»¥åŠéé›¶å…ƒçš„ä¸ªæ•°ï¼Œå¹¶ä½¿ç”¨ä¸¤ä¸ªæ•°ç»„å­˜å‚¨èµ·æ¥
    æœ‰cpot[n]=cpot[n-1]+num[n-1]
    å¹¶è§„å®šcpot[1]=1
    æ³¨æ„ï¼šè¿™é‡Œä¸è€ƒè™‘ç¨€ç–çŸ©é˜µæˆ–æ˜¯ä¸‰å…ƒç»„è¡¨çš„0è¡Œ0åˆ—
*/
void FastTransposeSMatrix(TSMatrix M,TSMatrix *T2)
{
    int T2_index;////ç”¨äºéå†Tçš„é0è¡Œï¼Œå…±éå†t_numæ¬¡
    int M_col;//è®°å½•ä¸‰å…ƒç»„è¡¨Mçš„åˆ—çš„æ•°å€¼ï¼Œåº”è¯¥ä»1é€’å¢
    int M_index;//ç”¨äºéå†Mçš„é0è¡Œï¼Œå…±éå†m_numæ¬¡

    int num[MAX_SIZE];//ç”¨äºè®°å½•Mä¸­æ¯ä¸€åˆ—çš„éé›¶å…ƒç´ 
    int cpot[MAX_SIZE];//ç”¨äºè®°å½•Mä¸­æ¯ä¸€åˆ—çš„é¦–éé›¶å…ƒç´ åº”è¯¥åœ¨Tä¸­çš„index(ä»1å¼€å§‹)

    //é¦–å…ˆï¼Œåˆ†åˆ«ä»è¡¨ç»“æ„å’Œéé›¶å…ƒä¸¤ä¸ªæ–¹é¢èµ‹å€¼T2
    T2->m_row=M.m_row;
    T2->m_col=M.m_col;
    T2->m_num=M.m_num;
    T2->data[0].row=M.data[0].col;
    T2->data[0].col=M.data[0].row;
    T2->data[0].e=M.data[0].e;

    if(T2->m_num>0){
        //å°†æ•°ç»„numä¸­çš„æ¯ä¸ªå…ƒç´ ç½®0ï¼Œé˜²æ­¢é»˜è®¤å€¼
        for(M_col=1;M_col<=M.m_col;M_col++){
            num[M_col]=0;
        }
        //éå†ç¨€ç–çŸ©é˜µæ¯ä¸€åˆ—ï¼Œç»Ÿè®¡éé›¶å…ƒçš„æ•°é‡
        for(M_index=1;M_index<=M.m_num;M_index++){
            num[M.data[M_index].col]++;
        }

        //ç”±äºè½¬ç½®åç›¸å½“äºæŒ‰åˆ—å±•å¼€
        //é»˜è®¤ï¼ˆç¨€ç–çŸ©é˜µä»ç¬¬1è¡Œç¬¬1åˆ—å¼€å§‹ï¼‰
        cpot[1]=1;

        for(M_col=2;M_col<=M.m_col;M_col++){
            cpot[M_col]=cpot[M_col-1]+num[M_col-1];
        }
        //éå†Mçš„æ¯ä¸€è¡Œ
        for(M_index=1;M_index<=M.m_num;M_index++){
            //å–æ¯ä¸€è¡Œçš„åˆ—ä¸‹æ ‡
            M_col=M.data[M_index].col;
            //å¸¦å…¥cpot[]æ•°ç»„ä¸­ï¼Œæ‰¾åˆ°åœ¨Tä¸­çš„ä¸‹æ ‡
            //cpotä¸­å­˜æœ‰æ‰€æœ‰éé›¶å…ƒçš„ä½ç½®ä¿¡æ¯
            T2_index=cpot[M_col];
            //äº’æ¢ä¿¡æ¯
            T2->data[T2_index].row=M.data[M_index].col;
            T2->data[T2_index].col=M.data[M_index].row;
            T2->data[T2_index].e=M.data[M_index].e;
            //è¿™ä¸ªå€¼æ˜¯æ ¹æ®åˆ—æ¥è‡ªå¢çš„
            //å³æ¯ä¸€åˆ—ä¸­é™¤äº†é¦–éé›¶å…ƒï¼Œè¿˜å‰©ä¸‹å‡ ä¸ªéé›¶å…ƒå°±åŠ å‡ æ¬¡
            cpot[M_col]++;
        }
    }
}

int main()
{
    printf("åˆå§‹åŒ–ç¨€ç–çŸ©é˜µ...\n");
    int row,col;
    printf("è¯·è¾“å…¥çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°(row,col):");
    scanf("%d,%d",&row,&col);
    printf("\n");
    ElemType mat[row][col];
    TSMatrix M;
    TSMatrix T;
    TSMatrix T2;

    //åˆ›å»ºç¨€ç–çŸ©é˜µ
    creatSMatrix(*mat,row,col);
    printf("----------------------------------\n");
    //æ‰“å°ç¨€ç–çŸ©é˜µ
    printSMatrix(*mat,row,col);
    //å°†ç¨€ç–çŸ©é˜µè½¬ä¸ºä¸‰å…ƒç»„
    initTriple(&M,*mat,row,col);
    //æ‰“å°ä¸‰å…ƒç»„
    printTriple(M);
    //å°†ä¸‰å…ƒç»„è¿˜åŸï¼Œå¹¶æ‰“å°
    printf("è¿˜åŸåçš„");

    printSMatrix2(M);

    //è½¬ç½®ä¸‰å…ƒç»„

    /*æ–¹æ³•ä¸€*/
    TransposeSMatrix(M,&T);
    printf("æ™®é€šè½¬ç½®åçš„");
    printTriple(T);
    /*æ–¹æ³•äºŒ*/
    FastTransposeSMatrix(M,&T2);
    printf("å¿«é€Ÿè½¬ç½®åçš„");
    printTriple(T2);
    printf("Hello world!\n");
    return 0;
}
```



---

> <strong> ğŸš€<font color = orange>å…ˆçœ‹åèµï¼Œå…»æˆä¹ æƒ¯ï¼</font>ğŸš€</strong>
>
> <strong> ğŸš€<font color = red> å…ˆçœ‹åèµï¼Œå…»æˆä¹ æƒ¯ï¼</font>ğŸš€</strong>

> **ğŸˆè§‰å¾—æ–‡ç« å†™å¾—ä¸é”™çš„è€é“ä»¬ï¼Œç‚¹èµè¯„è®ºå…³æ³¨èµ°ä¸€æ³¢ï¼è°¢è°¢å•¦ï¼ğŸˆ**

---



