[TOC]

# â­ï¸å†™åœ¨å‰é¢çš„è¯â­ï¸
> ğŸ“’åšå®¢ä¸»é¡µï¼š [ç¨‹åºå‘˜å¥½å†°](https://blog.csdn.net/m0_67689541?spm=1011.2124.3001.5343)
> ğŸ‰æ¬¢è¿ ã€ç‚¹èµğŸ‘ å…³æ³¨ğŸ” æ”¶è—â­ï¸ ç•™è¨€ğŸ“ã€‘
> ğŸ“Œæœ¬æ–‡ç”± ç¨‹åºå‘˜å¥½å†° åŸåˆ›ï¼ŒCSDN é¦–å‘ï¼
> ğŸ“†å…¥ç«™æ—¶é—´ï¼š ğŸŒ´2022 å¹´ 07 æœˆ 13 æ—¥ğŸŒ´
> âœ‰ï¸ æ˜¯éä¸å…¥æ¾é£è€³ï¼ŒèŠ±è½èŠ±å¼€åªè¯»ä¹¦ã€‚
> ğŸ’­æ¨èä¹¦ç±ï¼šğŸ“šã€ŠJavaç¼–ç¨‹æ€æƒ³ã€‹ï¼ŒğŸ“šã€ŠJava æ ¸å¿ƒæŠ€æœ¯å·ã€‹
> ğŸ’¬å‚è€ƒåœ¨çº¿ç¼–ç¨‹ç½‘ç«™ï¼šğŸŒ[ç‰›å®¢ç½‘](https://www.nowcoder.com/)ğŸŒ[åŠ›æ‰£](https://leetcode.cn/)
> ğŸ­<strong><font color = orange> ä½œè€…æ°´å¹³å¾ˆæœ‰é™ï¼Œå¦‚æœå‘ç°é”™è¯¯ï¼Œä¸€å®šè¦åŠæ—¶å‘ŠçŸ¥ä½œè€…å“¦ï¼æ„Ÿè°¢æ„Ÿè°¢ï¼</font></strong>ğŸ­

--- ---



# ä¸€ã€æ¦‚è¿°

>  åŒ…ï¼ˆpacketï¼‰ï¼š1ã€å¯¹æ–¹çš„ä¿¡æ¯ï¼›2ã€å¯¹æ–¹çš„åœ°å€ï¼›3ã€è‡ªå·±çš„åœ°å€ã€‚

> TCP:æ‰“ç”µè¯---é“¾æ¥---æ¥é€š---é€šè¯ï¼ˆåŒå‘ï¼‰
>
> UDP:å‘ä¿¡æ¯---å‘é€---ç»“æŸï¼ˆå•å‘ï¼‰

## 1.1è®¡ç®—æœºç½‘ç»œ

è®¡ç®—æœºç½‘ç»œæ˜¯æŒ‡å°†`åœ°ç†ä½ç½®ä¸åŒçš„`å…·æœ‰ç‹¬ç«‹åŠŸèƒ½çš„`å¤šå°è®¡ç®—æœºåŠå…¶å¤–éƒ¨è®¾å¤‡ï¼Œé€šè¿‡é€šä¿¡çº¿è·¯è¿æ¥`èµ·æ¥ï¼Œåœ¨ç½‘ç»œæ“ä½œç³»ç»Ÿï¼Œç½‘ç»œç®¡ç†è½¯ä»¶åŠ`ç½‘ç»œé€šä¿¡åè®®`çš„ç®¡ç†å’Œåè°ƒä¸‹ï¼Œå®ç°`èµ„æºå…±äº«`å’Œä¿¡æ¯ä¼ é€’çš„è®¡ç®—æœºç³»ç»Ÿã€‚

## 1.2 ç½‘ç»œç¼–ç¨‹çš„ç›®çš„

`æ•°æ®äº¤æ¢`ï¼Œå³é€šä¿¡ã€‚

## 1.3 å¦‚ä½•åš

1. å¦‚ä½•å‡†ç¡®åœ°å®šä½ç½‘ç»œä¸Šçš„ä¸€å°æˆ–è€…å¤šå°ä¸»æœºï¼šIPã€ç«¯å£ï¼ˆportï¼‰ã€å®šä½åˆ°è®¡ç®—æœºä¸Šçš„æŸä¸ªèµ„æºï¼›
2. æ‰¾åˆ°äº†è¿™ä¸ªä¸»æœºï¼Œå¦‚ä½•è¿›è¡Œä¼ è¾“æ•°æ®ï¼ˆé€šä¿¡ï¼‰ï¼›

## 1.4 ç½‘é¡µç¼–ç¨‹å’Œç½‘ç»œç¼–ç¨‹

- ç½‘é¡µç¼–ç¨‹---JavaWeb---B/Sæ¶æ„
- ç½‘ç»œç¼–ç¨‹---TCP/UDP---C/Sæ¶æ„



# äºŒã€ç½‘ç»œé€šä¿¡çš„ä¸¤ä¸ªè¦ç´ 

>  å¦‚ä½•å®ç°ç½‘ç»œçš„é€šä¿¡ï¼š

éœ€è¦é€šä¿¡åŒæ–¹çš„åœ°å€ï¼š`IP + ç«¯å£å·ï¼ˆportï¼‰`ï¼›

éœ€è¦ç»Ÿä¸€çš„è§„åˆ™ï¼š`ç½‘ç»œé€šä¿¡åè®®`ã€‚

## 2.1 TCP/IPå‚è€ƒæ¨¡å‹

![image-20230402162440784](https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230402162440784.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10)

## 2.2 è®¿é—®ç™¾åº¦çš„åŸŸå

<img src="https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230402162604566.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10" alt="image-20230402162604566" style="zoom: 33%;" />

# ä¸‰ã€IPåœ°å€

> IPå¯ä»¥å”¯ä¸€å®šä½ä¸€å°ç½‘ç»œä¸Šçš„è®¡ç®—æœº

> æœ¬æœºIP(localhost) : 127.0.0.1

<img src="https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230402162903236.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10" alt="image-20230402162903236" style="zoom: 50%;" />

## 3.1 IPåœ°å€åˆ†ç±»

- IPv4ã€IPv6

  - IPv4
  - IPv6ï¼šä½¿ç”¨ipconfigæŸ¥çœ‹

- å…¬ç½‘IPï¼ˆäº’è”ç½‘ï¼‰ã€ç§ç½‘IPï¼ˆå±€åŸŸç½‘ï¼‰

  - 192.169.xxx.xxx å±€åŸŸç½‘

  `äº”ç±»åœ°å€åˆ’åˆ†`

  ![image-20230402163916645](https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230402163916645.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10)

## 3.2 å¸¸ç”¨æ–¹æ³•

```java
package space;

import java.net.InetAddress;
import java.net.UnknownHostException;

public class InetAddressDemo {
    public static void main(String[] args) {
        try {
            //æŸ¥è¯¢æœ¬æœºåœ°å€
            InetAddress byName = InetAddress.getByName("127.0.0.1");
            System.out.println(byName);

            InetAddress byName2 = InetAddress.getByName("localhost");
            System.out.println(byName2);

            InetAddress byName3 = InetAddress.getLocalHost();
            System.out.println(byName3);

            //æŸ¥è¯¢ç½‘ç«™IPåœ°å€
            InetAddress byName4 = InetAddress.getByName("www.baidu.com");
            System.out.println(byName4);

            //å¸¸ç”¨æ–¹æ³•
            /*public byte[] getAddress()*/
            System.out.println(byName4.getAddress());
            //è·å¾—ä¸»æœºåŸŸå
            System.out.println(byName4.getHostName());
            //è·å–è§„èŒƒçš„IPå
            System.out.println(byName4.getCanonicalHostName());
            //IPåœ°å€
            System.out.println(byName4.getHostAddress());
        } catch (UnknownHostException e) {
            throw new RuntimeException(e);
        }
    }
}
```



# å››ã€ç«¯å£

>  ç«¯å£è¡¨ç¤ºè®¡ç®—æœºä¸Šçš„ä¸€ä¸ªç¨‹åºçš„è¿›ç¨‹ã€‚
>
>  ç«¯å£å·çš„ä¸»è¦ä½œç”¨æ˜¯è¡¨ç¤ºä¸€å°è®¡ç®—æœºä¸­çš„**ç‰¹å®šè¿›ç¨‹**æ‰€æä¾›çš„æœåŠ¡ã€‚

> ä¸åŒçš„è¿›ç¨‹æœ‰ä¸åŒçš„ç«¯å£å·ï¼Œç”¨æ¥åŒºåˆ†è½¯ä»¶ã€‚

## 4.1 ç«¯å£åˆ†ç±»

==TCPä¸UDPæ®µç»“æ„ä¸­ç«¯å£åœ°å€éƒ½æ˜¯**16æ¯”ç‰¹**ï¼Œå¯ä»¥æœ‰åœ¨0---65535èŒƒå›´å†…çš„ç«¯å£å·ã€‚==

**`æŒ‰ç…§ç«¯å£å·åˆ†ç±»`ï¼š**

1. **å…¬è®¤ç«¯å£ï¼š0~1023**ã€‚å®ƒä»¬ç´§å¯†ç»‘å®šäºä¸€äº›æœåŠ¡ï¼Œé€šå¸¸è¿™äº›ç«¯å£çš„é€šè®¯æ˜ç¡®è¡¨æ˜äº†æŸç§æœåŠ¡çš„åè®®ï¼Œå¦‚ï¼š80ç«¯å£å¯¹åº”ä¸HTTPé€šä¿¡ï¼Œ21ç«¯å£ç»‘å®šä¸FTPæœåŠ¡ï¼Œ25ç«¯å£ç»‘å®šäºSMTPæœåŠ¡ï¼Œ135ç«¯å£ç»‘å®šä¸RPCï¼ˆè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰æœåŠ¡ã€‚
2. **`æ³¨å†Œç«¯å£ï¼š1024~49151`**ã€‚å®ƒä»¬æ¾æ•£çš„ç»‘å®šäºä¸€äº›æœåŠ¡ï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰è®¸å¤šæœåŠ¡ç»‘å®šäºè¿™äº›ç«¯å£ï¼Œè¿™äº›ç«¯å£åŒæ ·ç”¨äºå…¶ä»–è®¸å¤šç›®çš„ï¼Œå¦‚ï¼šè®¸å¤šç³»ç»Ÿå¤„ç†ç«¯å£ä»1024å¼€å§‹
3. **åŠ¨æ€æˆ–ç§æœ‰ç«¯å£ï¼š49152~65535ã€‚**ç†è®ºä¸Šï¼Œ`ä¸åº”ä¸ºæœåŠ¡åˆ†é…è¿™äº›ç«¯å£`ï¼Œé€šå¸¸æœºå™¨ä»1024å¼€å§‹åˆ†é…åŠ¨æ€ç«¯å£ã€‚ä¾‹å¤–ï¼šSUNçš„RPCç«¯å£ä»32768å¼€å§‹ã€‚

**æŒ‰ç…§åè®®ç±»å‹åˆ†ç±»ï¼š**æŒ‰åè®®ç±»å‹åˆ’åˆ†å¯åˆ†ä¸ºTCPç«¯å£ã€UDPç«¯å£ã€IPç«¯å£ã€ICMPã€‚

1. **TCPç«¯å£ï¼š**å³ä¼ è¾“æ§åˆ¶åè®®ç«¯å£ï¼Œéœ€è¦åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹è¿æ¥ï¼Œè¿™æ ·å¯ä»¥æä¾›å¯é çš„æ•°æ®ä¼ è¾“ã€‚`å¸¸è§çš„åŒ…æ‹¬FTPçš„21ç«¯å£ï¼ŒTelnetçš„23ç«¯å£ï¼ŒSMTPçš„25ç«¯å£ï¼ŒHTTPçš„80ç«¯å£`ã€‚
2. **UDPç«¯å£ï¼š**å³ç”¨æˆ·æ•°æ®æŠ¥åè®®ç«¯å£ï¼Œæ— éœ€åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯å»ºç«‹è¿æ¥ï¼Œå®‰å…¨æ€§å¾—ä¸åˆ°ä¿éšœã€‚å¸¸è§çš„DNSçš„53ç«¯å£ï¼ŒSNMPï¼ˆç®€å•ç½‘ç»œç®¡ç†åè®®ï¼‰çš„161ç«¯å£ï¼ŒQQä½¿ç”¨çš„8000å’Œ4000ç«¯å£ã€‚
3. **ä¿ç•™ç«¯å£ï¼š**UNIXæœ‰ä¿ç•™ç«¯å£å·çš„æ¦‚å¿µï¼Œåªæœ‰è¶…çº§ç”¨æˆ·ç‰¹æƒçš„è¿›ç¨‹æ‰å…è®¸ç»™å®ƒè‡ªå·±åˆ†é…ä¸€ä¸ªä¿ç•™ç«¯å£å·ã€‚è¿™äº›ç«¯å£å·ä»‹äº1~1023ä¹‹é—´ï¼Œä¸€äº›åº”ç”¨ç¨‹åºå°†å®ƒä½œä¸ºå®¢æˆ·ä¸æœåŠ¡å™¨è®¤è¯çš„ä¸€éƒ¨åˆ†ã€‚

##### ç«¯å£ä½¿ç”¨çš„æ³¨æ„äº‹é¡¹

1. ä¸è¦ä½¿ç”¨ç«¯å£å·å°äº1024çš„ç«¯å£ã€‚
2. ç«¯å£å·ä¸€èˆ¬ä¹ æƒ¯ä¸º4ä½æ•´æ•°ï¼Œåœ¨åŒä¸€å°è®¡ç®—æœºä¸Šç«¯å£å·ä¸èƒ½é‡å¤ï¼Œå¦åˆ™ï¼Œä¼šäº§ç”Ÿç«¯å£å·å†²çªã€‚ 
3. å®¢æˆ·ç«¯ç«¯å£å·å› å­˜åœ¨æ—¶é—´å¾ˆçŸ­æš‚åˆç§°ä¸´æ—¶ç«¯å£å·ï¼Œå¤§å¤šæ•°TCP/IPå®ç°ç»™ä¸´æ—¶ç«¯å£å·åˆ†é…1024---5000ä¹‹é—´çš„ç«¯å£å·ã€‚å¤§äº5000çš„ç«¯å£å·æ˜¯ä¸ºå…¶ä»–æœåŠ¡å™¨é¢„ç•™çš„ ã€‚

## 4.2 å¸¸ç”¨ç«¯å£å·

- HTTP:80
- HTTPS:443
- FTP:21
- Telent:23
- Tomcat:8080
- MySQL:3306
- Oracle:1521

## 4.3 æŸ¥çœ‹æ‰€æœ‰çš„ç«¯å£

> å¿«æ·é”®æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼š`ctrl + shift + esc`

```bash
netstat -ano #æŸ¥çœ‹æ‰€æœ‰çš„ç«¯å£
netstat -ano|findstr "51834" #æŸ¥çœ‹æŒ‡å®šçš„ç«¯å£
tasklist|findstr "17648" #æŸ¥çœ‹æŒ‡å®šç«¯å£çš„è¿›ç¨‹
```

<img src="https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230402171125560.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10" alt="image-20230402171125560" style="zoom:50%;" />



<img src="https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230402171102787.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10" alt="image-20230402171102787" style="zoom:50%;" />



<img src="https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230402171028484.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10" alt="image-20230402171028484" style="zoom: 50%;" />





```java
package space;

import java.net.InetAddress;
import java.net.InetSocketAddress;

public class InetSocketAddressDemo {

    public static void main(String[] args) {

        /*public InetSocketAddress(InetAddress addr, int port)*/
        InetSocketAddress socketAddress = new InetSocketAddress("127.0.0.1",8080);
        InetSocketAddress socketAddress2 = new InetSocketAddress("localhost",8080);
        System.out.println(socketAddress);
        System.out.println(socketAddress2);

        System.out.println(socketAddress.getAddress());
        System.out.println(socketAddress.getHostName());
        System.out.println(socketAddress.getPort());
        
    }
}
```



# äº”ã€é€šä¿¡åè®®

>  ç½‘ç»œé€šä¿¡åè®®ï¼šé€Ÿç‡ã€ä¼ è¾“ç ç‡ã€ä»£ç ç»“æ„ã€ä¼ è¾“æ§åˆ¶ã€‚

> TCPï¼šç”¨æˆ·ä¼ è¾“åè®®
>
> UDPï¼šç”¨æˆ·æ•°æ®æŠ¥åè®®

## 5.1 TCP/IPåè®®ç°‡

> [TCP/IP](https://baike.baidu.com/item/TCP%2FIP/214077?fromModule=lemma_inlink)æ˜¯ä¸€ç»„åè®®çš„ä»£åè¯ï¼ŒåŒ…æ‹¬è®¸å¤šåˆ«çš„åè®®ï¼Œç»„æˆäº†TCP/IPåè®®ç°‡ã€‚å…¶ä¸­æ¯”è¾ƒé‡è¦çš„æœ‰[SLIP](https://baike.baidu.com/item/SLIP/610740?fromModule=lemma_inlink)åè®®ã€[PPP](https://baike.baidu.com/item/PPP/6660214?fromModule=lemma_inlink)åè®®ã€IPåè®®ã€[ICMP](https://baike.baidu.com/item/ICMP/572452?fromModule=lemma_inlink)åè®®ã€[ARP](https://baike.baidu.com/item/ARP/609343?fromModule=lemma_inlink)åè®®ã€TCPåè®®ã€[UDP](https://baike.baidu.com/item/UDP/571511?fromModule=lemma_inlink)åè®®ã€[FTPåè®®](https://baike.baidu.com/item/FTPåè®®/7651119?fromModule=lemma_inlink)ã€[DNSåè®®](https://baike.baidu.com/item/DNSåè®®/1860066?fromModule=lemma_inlink)ã€[SMTP](https://baike.baidu.com/item/SMTP/175887?fromModule=lemma_inlink)åè®®ç­‰ã€‚[TCP/IPåè®®](https://baike.baidu.com/item/TCP%2FIPåè®®/212915?fromModule=lemma_inlink)å¹¶ä¸å®Œå…¨ç¬¦åˆ[OSI](https://baike.baidu.com/item/OSI/5520?fromModule=lemma_inlink)çš„ä¸ƒå±‚[å‚è€ƒæ¨¡å‹](https://baike.baidu.com/item/å‚è€ƒæ¨¡å‹/5920412?fromModule=lemma_inlink)ã€‚

## 5.2 TCPå’ŒUDPå¯¹æ¯”

|      |            TCP             |               UDP                |
| :--: | :------------------------: | :------------------------------: |
| æŠ½è±¡ |           æ‰“ç”µè¯           |              å‘çŸ­ä¿¡              |
| è¿æ¥ |         è¿æ¥ï¼Œç¨³å®š         |          ä¸è¿æ¥ï¼Œä¸ç¨³å®š          |
|      |   ä¸‰æ¬¡æ¡æ‰‹   ï¼Œå››æ¬¡æŒ¥æ‰‹    |                                  |
|      |       å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯       |          æ²¡æœ‰æ˜ç¡®çš„ç•Œé™          |
|      | ä¼ è¾“å®Œæˆï¼Œé‡Šæ”¾è¿æ¥ï¼Œæ•ˆç‡ä½ |    ä¸ç®¡æœ‰æ²¡æœ‰å‡†å¤‡å¥½ï¼Œéƒ½å¯ä»¥å‘    |
|      |                            | å¯¼å¼¹æ”»å‡»ï¼ŒDDOSæ´ªæ°´æ”»å‡»ï¼Œé¥±å’Œæ”»å‡» |

`ä¸‰æ¬¡æ¡æ‰‹`ï¼šï¼ˆæœ€å°‘éœ€è¦ä¸‰æ¬¡ï¼Œä¿è¯ç¨³å®šè¿æ¥ï¼‰

```
Aï¼šä½ ç…å•¥ï¼Ÿ
Bï¼šç…ä½ å’‹åœ°ï¼Ÿ
Aï¼šå¹²ä¸€åœºï¼
```

<img src="https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230404142821996.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10" alt="image-20230404142821996" style="zoom:50%;" />

`å››æ¬¡æŒ¥æ‰‹`ï¼š

```
Aï¼šæˆ‘è¦èµ°äº†ã€‚
Bï¼šä½ çœŸçš„è¦èµ°äº†å—ï¼Ÿ
Bï¼šä½ çœŸçš„çœŸçš„è¦èµ°äº†å—ï¼Ÿ
Aï¼šæˆ‘çœŸçš„çœŸçš„è¦èµ°äº†ã€‚
```

<img src="https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230404142755306.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10" alt="image-20230404142755306" style="zoom:50%;" />

# å…­ã€TCP

## 1ã€TCPå®ç°èŠå¤©

|      |        å®¢æˆ·ç«¯        |            æœåŠ¡å™¨            |
| :--: | :------------------: | :--------------------------: |
|  1   | é€šè¿‡Socketè¿æ¥æœåŠ¡å™¨ | å»ºç«‹æœåŠ¡çš„çš„ç«¯å£ServerSocket |
|  2   |   ä½¿ç”¨IOæµå‘é€æ¶ˆæ¯   |  ç­‰å¾…ç”¨æˆ·çš„è¿æ¥ï¼Œä½¿ç”¨accept  |
|  3   |                      |    ä½¿ç”¨IOæµæ¥å—ç”¨æˆ·çš„æ¶ˆæ¯    |

`å®¢æˆ·ç«¯`

```java
package space.haobin01;

import java.io.IOException;
import java.io.OutputStream;
import java.net.InetAddress;
import java.net.Socket;
import java.net.UnknownHostException;

/**
 * å®¢æˆ·ç«¯
 */
public class TCPClientDemo01 {
    public static void main(String[] args) throws IOException {
        //å®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨

        //1.è¦çŸ¥æœåŠ¡å™¨çš„åœ°å€
        InetAddress serverIP = InetAddress.getByName("127.0.0.1");

        //2.ç«¯å£å·
        int port = 9999;

        //3.åˆ›å»ºä¸€ä¸ªsocketçš„è¿æ¥
        /*public Socket(InetAddress address, int port)*/
        Socket socket = new Socket(serverIP,port);

        //4.å‘é€æ¶ˆæ¯ IOæµ
        OutputStream os = socket.getOutputStream();
        os.write("ä½ å¥½ï¼Œæ¬¢è¿ä½¿ç”¨TCP".getBytes());

        os.close();
        socket.close();
    }
}
```

`æœåŠ¡å™¨`

```java
package space.haobin01;

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.net.ServerSocket;
import java.net.Socket;

/**
 * æœåŠ¡ç«¯
 */
public class TCPServerDemo01 {
    public static void main(String[] args) throws IOException {


        //1.æœåŠ¡å™¨æœ¬èº«åº”è¯¥æœ‰ä¸€ä¸ªåœ°å€
        ServerSocket serverSocket = new ServerSocket(9999);

        //2.ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥è¿‡æ¥
        Socket socket = serverSocket.accept();

        //3.è¯»å–å®¢æˆ·ç«¯çš„æ¶ˆæ¯
        InputStream is = socket.getInputStream();

        //é€šè¿‡ç®¡é“æµ
        ByteArrayOutputStream baos = new ByteArrayOutputStream();
        byte[] buffer = new byte[1024];
        int len;
        while((len=is.read(buffer))!=-1){
            baos.write(buffer,0,len);
        }
        System.out.println(baos.toString());

        baos.close();
        is.close();
        socket.close();
        serverSocket.close();
    }
}
```

## 2ã€TCPå®ç°æ–‡ä»¶ä¸Šä¼ 

`æœåŠ¡å™¨`

```java
package space.haobin03;

import java.io.File;
import java.io.FileOutputStream;
import java.io.InputStream;
import java.io.OutputStream;
import java.net.ServerSocket;
import java.net.Socket;

public class TCPServerDemo02 {
    public static void main(String[] args) throws Exception {
        //1.åˆ›å»ºæœåŠ¡
        ServerSocket serverSocket = new ServerSocket(9000);

        //2.ç›‘å¬å®¢æˆ·ç«¯çš„è¿æ¥
        Socket socket = serverSocket.accept();//é˜»å¡å¼ç›‘å¬ï¼Œä¼šä¸€ç›´ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥

        //3.è·å–è¾“å…¥æµ
        InputStream is = socket.getInputStream();

        //4.æ–‡ä»¶è¾“å‡º
        FileOutputStream fos = new FileOutputStream(new File("receive.jpg"));

        byte[] buffer = new byte[1024];
        int len;
        while((len=is.read(buffer))!=-1){
            fos.write(buffer,0,len);
        }

        //é€šçŸ¥å®¢æˆ·ç«¯æˆ‘æ¥å—å®Œæ¯•äº†
        OutputStream os = socket.getOutputStream();
        os.write("æˆ‘æ¥å—å®Œæ¯•äº†ï¼Œä½ å¯ä»¥æ–­å¼€äº†".getBytes());

        //5.å…³é—­èµ„æº
        fos.close();
        is.close();
        socket.close();
        serverSocket.close();

    }
}
```

`å®¢æˆ·ç«¯`

```java
package space.haobin03;

import java.io.*;
import java.net.InetAddress;
import java.net.Socket;

public class TCPClientDemo {
    public static void main(String[] args) throws Exception {

        //1.åˆ›å»ºä¸€ä¸ªSocketè¿æ¥
        Socket socket = new Socket(InetAddress.getByName("127.0.0.1"), 9000);

        //2.åˆ›å»ºè¾“å‡ºæµ
        OutputStream os = socket.getOutputStream();

        //3.è¯»å–æ–‡ä»¶
        FileInputStream fis = new FileInputStream(new File("dog.jpg"));

        //4.å†™å‡ºæ–‡ä»¶
        byte[] buffer = new byte[1024];
        int len;
        while((len=fis.read(buffer))!=-1){
            os.write(buffer,0,len);
        }

        //é€šçŸ¥æœåŠ¡å™¨ï¼Œæˆ‘å·²ç»ä¼ è¾“å®Œäº†
        socket.shutdownOutput();


        //ç¡®å®šæœåŠ¡å™¨æ¥å—å®Œæ¯•ï¼Œæ‰èƒ½å¤Ÿæ–­å¼€è¿æ¥
        InputStream inputStream = socket.getInputStream();
        //ç”±äºä¸çŸ¥é“ä¼ è¿›æ¥çš„æ˜¯ä»€ä¹ˆï¼Œæ‰€ä»¥ä½¿ç”¨ç®¡é“æµè¿›è¡Œè¿‡æ»¤
        ByteArrayOutputStream baos = new ByteArrayOutputStream();

        byte[] buffer2 = new byte[1024];
        int len2;
        while((len2=inputStream.read(buffer2))!=-1){
            baos.write(buffer2,0,len2);
        }

        System.out.println(baos.toString());

        //5.å…³é—­èµ„æº(å…ˆå†™åå…³)
        baos.close();
        inputStream.close();
        fis.close();
        os.close();
        socket.close();
    }
}
```

`æ³¨æ„ï¼šå›¾ç‰‡èµ„æºè¦æ”¾åœ¨æ ¹ç›®å½•ä¸‹`

<img src="https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230404192119506.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10" alt="image-20230404192119506" style="zoom: 50%;" />

# ä¸ƒã€Tomcatåˆè¯†

> æœåŠ¡å™¨ï¼š
>
> - è‡ªå®šä¹‰---S
> - TomcatæœåŠ¡å™¨---S
>
> å®¢æˆ·ç«¯
>
> - è‡ªå®šä¹‰---S
> - æµè§ˆå™¨---B



## 1ã€ä»€ä¹ˆæ˜¯Tomcat

Tomcatç®€å•çš„è¯´å°±æ˜¯ä¸€ä¸ªè¿è¡ŒJAVAçš„ç½‘ç»œæœåŠ¡å™¨ï¼Œåº•å±‚æ˜¯Socketçš„ä¸€ä¸ªç¨‹åºï¼Œå®ƒä¹Ÿæ˜¯JSPå’ŒSerlvetçš„ä¸€ä¸ªå®¹å™¨ã€‚

## 2ã€ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ç”¨åˆ°Tomcat

å¦‚æœä½ å­¦è¿‡htmlï¼Œcssï¼Œä½ ä¼šçŸ¥é“ä½ å†™çš„é¡µé¢åªèƒ½è‡ªå·±è®¿é—®ï¼Œ**åˆ«äººä¸èƒ½è¿œç¨‹è®¿é—®ä½ å†™çš„é¡µé¢**ï¼ŒTomcatå°±æ˜¯**æä¾›èƒ½å¤Ÿè®©åˆ«äººè®¿é—®è‡ªå·±å†™çš„é¡µé¢çš„ä¸€ä¸ªç¨‹åº**



<img src="https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/v2-55ce1485739fcd31605a21fd0a7c32fd_1440w.webp?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10" alt="img" style="zoom: 67%;" />



# å…«ã€UDP

> å‘ä¿¡æ¯ï¼šä¸ç”¨è¿æ¥ï¼Œéœ€è¦çŸ¥é“å¯¹æ–¹çš„åœ°å€ã€‚

> ä¸éœ€è¦è¿æ¥æœåŠ¡å™¨

> å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„èº«ä»½å¯ä»¥äº’æ¢

## 1ã€UDPæ¶ˆæ¯å‘é€

`å‘é€ç«¯`

```java
package space.haobin04;

import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.InetAddress;

public class UDPClientDemo01 {
    public static void main(String[] args) throws Exception {
        //1.å»ºç«‹ä¸€ä¸ªSocket
        DatagramSocket socket = new DatagramSocket();
        //2. å»ºä¸ªåŒ…
        String msg = "ä½ å¥½,æœåŠ¡å™¨";//å‘é€çš„ä¿¡æ¯
        InetAddress localhost = InetAddress.getByName("localhost");//å‘é€ç»™è°
        int port = 9090;

        /*public DatagramPacket(byte buf[], int offset, int length,
        InetAddress address, int port)*/
        DatagramPacket packet = new DatagramPacket(msg.getBytes(),0,msg.getBytes().length,localhost,port);
        //3.å‘é€åŒ…
        socket.send(packet);

        //4.å…³é—­èµ„æº
        socket.close();
    }
}
```



`æ¥æ”¶ç«¯`

```java
package space.haobin04;

import java.net.DatagramPacket;
import java.net.DatagramSocket;

public class UDPServerDemo01 {
    public static void main(String[] args) throws Exception {

        //æ²¡æœ‰æœåŠ¡çš„æ¦‚å¿µï¼Œä½†è¿˜æ˜¯è¦ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥

        //å¼€æ”¾ç«¯å£
        DatagramSocket socket = new DatagramSocket(9090);
        //æ¥æ”¶æ•°æ®
        byte[] buffer = new byte[1024];
        /*public DatagramPacket(byte buf[], int offset, int length)*/
        DatagramPacket packet = new DatagramPacket(buffer, 0, buffer.length);//æ¥å—

        socket.receive(packet);//é˜»å¡æ¥æ”¶

        //ç±»ä¼¼æ‹†å¿«é€’
        System.out.println(packet.getAddress().getHostAddress());

        System.out.println(new String(packet.getData(), 0, packet.getLength()));

        //å…³é—­è¿æ¥
        socket.close();
    }
}
```

## 2ã€UDPèŠå¤©å®ç°

### 2.1 å•çº¿ç¨‹å®ç°

`å‘é€æ–¹`

```java
package space.haobin05;

import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.InetSocketAddress;

public class UDPSenderDemo {
    public static void main(String[] args) throws Exception {
        DatagramSocket socket = new DatagramSocket(8888);

        while(true){
            //å‡†å¤‡æ•°æ®,æ§åˆ¶å°è¯»å– System.in

            BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));
            String data = reader.readLine();
            byte[] datas = data.getBytes();
            DatagramPacket packet = new DatagramPacket(datas,0,datas.length,new InetSocketAddress("localhost",6666));

            socket.send(packet);

            if(data.equals("bye")){
                break;
            }
        }

        socket.close();
    }
}
```

`æ¥å—æ–¹`

```java
package space.haobin05;

import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.SocketException;

public class UDPReceiverDemo {
    public static void main(String[] args) throws Exception {
        DatagramSocket socket = new DatagramSocket(6666);

        while(true){
            //å‡†å¤‡æ¥æ”¶åŒ…è£¹
            byte[] container = new byte[1024];
            DatagramPacket packet = new DatagramPacket(container,0,container.length);

            socket.receive(packet);//é˜»å¡å¼æ¥æ”¶åŒ…è£¹

            //æ–­å¼€è¿æ¥
            byte[] data = packet.getData();
            String receiveDatas = new String(data, 0, data.length);
            System.out.println(receiveData.trim());
            if(receiveDatas.equals("bye")){
                break;
            }
        }
        socket.close();
    }
}
```

### 2.2 å¤šçº¿ç¨‹ä¼˜åŒ–

`å‘é€ç±»`

```java
package space.haobin06;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.InetSocketAddress;
import java.net.SocketException;

public class TalkSend implements Runnable{
    DatagramSocket socket =null;
    BufferedReader reader = null;

    private int fromPort;
    private String toIP;
    private int toPort;

    public TalkSend(int fromPort, String toIP, int toPort) {
        this.fromPort = fromPort;
        this.toIP = toIP;
        this.toPort = toPort;

        try {
            socket = new DatagramSocket(fromPort);
            reader = new BufferedReader(new InputStreamReader(System.in));
        } catch (SocketException e) {
            throw new RuntimeException(e);
        }
    }

    @Override
    public void run() {
        while(true){

            try {
                //å‡†å¤‡æ•°æ®,æ§åˆ¶å°è¯»å– System.in
                String data = reader.readLine();
                byte[] datas = data.getBytes();
                DatagramPacket packet = new DatagramPacket(datas,0,datas.length,new InetSocketAddress(this.toIP,this.toPort));

                socket.send(packet);

                if(data.equals("bye")){
                    break;
                }
            } catch (IOException e) {
                throw new RuntimeException(e);
            }
        }

        socket.close();
    }
}
```

`æ¥æ”¶ç±»`

```java
package space.haobin06;

import java.io.IOException;
import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.SocketException;

public class TalkReceive implements Runnable{
    DatagramSocket socket = null;
    DatagramPacket packet = null;

    private int port;

    private String msgFrom;

    public TalkReceive(int port,String msgFrom) {
        this.port=port;
        this.msgFrom=msgFrom;
        try {
            socket = new DatagramSocket(port);
        } catch (SocketException e) {
            throw new RuntimeException(e);
        }
    }

    @Override
    public void run() {

        try {
            while(true){
                //å‡†å¤‡æ¥æ”¶åŒ…è£¹
                byte[] container = new byte[1024];
                DatagramPacket packet = new DatagramPacket(container,0,container.length);

                socket.receive(packet);//é˜»å¡å¼æ¥æ”¶åŒ…è£¹

                //æ–­å¼€è¿æ¥
                byte[] data = packet.getData();
                String receiveData = new String(data, 0, data.length);
                System.out.println(msgFrom+":"+receiveData.trim());
                if(receiveData.equals("bye")){
                    break;
                }
            }
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
        socket.close();
    }
}
```

`å­¦ç”Ÿç«¯`

```java
package space.haobin06;

public class TalkStudent {
    public static void main(String[] args) {
        //å‘é€:ç”¨å“ªä¸ªç«¯å£å‘ï¼Œå‘ä¸ªå“ªä¸ªIPåœ°å€(ä¸»æœº)ï¼Œå“ªä¸ªç«¯å£
        new Thread(new TalkSend(7777,"localhost",9999)).start();
        //æ¥å—:ç”¨å“ªä¸ªç«¯å£æ¥å—ï¼Œæ˜¯æ¥å—è°çš„ä¿¡æ¯
        new Thread(new TalkReceive(8888,"è€å¸ˆ")).start();
    }
}
```

`è€å¸ˆç«¯`

```java
package space.haobin06;

public class TalkTeacher {
    public static void main(String[] args) {
        //å‘é€:ç”¨å“ªä¸ªç«¯å£å‘ï¼Œå‘ä¸ªå“ªä¸ªIPåœ°å€(ä¸»æœº)ï¼Œå“ªä¸ªç«¯å£
        new Thread(new TalkSend(6666,"localhost",8888)).start();
        //æ¥å—:ç”¨å“ªä¸ªç«¯å£æ¥å—ï¼Œæ˜¯æ¥å—è°çš„ä¿¡æ¯
        new Thread(new TalkReceive(9999,"å­¦ç”Ÿ")).start();
    }
}
```



# ä¹ã€URL

> ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œå®šä½äº’è”ç½‘ä¸Šçš„æŸä¸€èµ„æºã€‚

> DNSåŸŸåè§£æ:å°†www.baidu.comè§£æä¸º 14.119.104.189ã€‚

> URLç»“æ„: 
>
> â€‹		åè®®://ipåœ°å€:ç«¯å£å·/å…·ä½“é¡¹ç›®å/å¯¹åº”èµ„æº

> æ¨èæ–‡ç« :[æ·±å…¥å‰–æç½‘é¡µåœ°å€URLçš„ç»“æ„åŠå…ƒç´  - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/431756755)

![image-20230405155842873](https://haobin-001.oss-cn-hangzhou.aliyuncs.com/imgs-for-typora/image-20230405155842873.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_56iL5bqP5ZGY5aW95Yaw,type_ZmFuZ3poZW5na2FpdGk,color_fef6f0,size_30,shadow_100,g_se,x_10,y_10)



## 1ã€URLåˆè¯†

```java
package space.haobin07;

import java.net.MalformedURLException;
import java.net.URL;

public class URLDemo {
    public static void main(String[] args) throws MalformedURLException {

        /*public URL(String spec) throws MalformedURLException*/
        URL url = new URL("http://localhost:8080/helloworld/index.jsp?username=haobin&password=123456");

        System.out.println(url.getProtocol());//åè®®
        System.out.println(url.getHost());//ä¸»æœºIP
        System.out.println(url.getPort());//ç«¯å£å·
        System.out.println(url.getPath());//æ–‡ä»¶å
        System.out.println(url.getFile());//æ–‡ä»¶å…¨è·¯å¾„
        System.out.println(url.getQuery());//è·å¾—å‚æ•°

    }
}
```

## 2ã€é€šè¿‡URLä¸‹è½½æ–‡ä»¶

> å°†Tomcaté¡¹ç›®ä¸‹çš„æ–‡ä»¶ä¸‹è½½åˆ°æ ¹ç›®å½•ä¸‹ï¼Œå‰æï¼šæ‰“å¼€Tomcatï¼Œ8080ç«¯å£

> é€šè¿‡URLä¸‹è½½æ–‡ä»¶ï¼Œéœ€è¦:
>
> - æ‰¾åˆ°æ–‡ä»¶çš„åœ°å€
> - ä¸è¿™ä¸ªURLåœ°å€å»ºç«‹è¿æ¥
> - è·å¾—è¾“å…¥æµ
> - å¤„ç†è¾“å‡ºæµï¼ˆæ–°å»ºæ–‡ä»¶ï¼‰

```java
package space.haobin07;

import java.io.FileOutputStream;
import java.io.InputStream;
import java.net.HttpURLConnection;
import java.net.URL;

public class URLDemo02 {
    public static void main(String[] args) throws Exception {

        //1.æ‰¾åˆ°è¿™ä¸ªåœ°å€
        URL url = new URL("http://localhost:8080/haobin/SecurityFile.html");

        //2.è¿æ¥åˆ°è¿™ä¸ªèµ„æº HTTP
        HttpURLConnection urlConnection =(HttpURLConnection) url.openConnection();

        //3.è·å¾—æµ
        InputStream inputStream = urlConnection.getInputStream();
	
        //4.ä¸‹è½½è¿‡æ¥çš„æ–‡ä»¶çš„æ–‡ä»¶å+æ–‡ä»¶åç¼€
        FileOutputStream fos = new FileOutputStream("SecurityFile.html");

        byte[] buffer = new byte[1024];
        int len;
        while((len=inputStream.read(buffer))!=-1){
            fos.write(buffer,0,len);
        }
        fos.close();;
        inputStream.close();
        urlConnection.disconnect();//æ–­å¼€è¿æ¥
    }
}
```

---

> <strong> ğŸš€<font color = orange>å…ˆçœ‹åèµï¼Œå…»æˆä¹ æƒ¯ï¼</font>ğŸš€</strong>
>
> <strong> ğŸš€<font color = red> å…ˆçœ‹åèµï¼Œå…»æˆä¹ æƒ¯ï¼</font>ğŸš€</strong>

> **ğŸˆè§‰å¾—æ–‡ç« å†™å¾—ä¸é”™çš„è€é“ä»¬ï¼Œç‚¹èµè¯„è®ºå…³æ³¨èµ°ä¸€æ³¢ï¼è°¢è°¢å•¦ï¼ğŸˆ**

---



